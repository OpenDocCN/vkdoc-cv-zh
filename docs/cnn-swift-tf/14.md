# 14.你在这里

恭喜你走到这一步！现在，您已经对使用 swift for tensorflow 进行图像识别的卷积神经网络的当前技术状态有了扎实的工作知识。让我们通过回顾过去来展望未来。

## 计算的历史(短暂而固执己见)

研究…的历史以了解它的未来是有价值的。有许多趋势只有在事后才看得出来。所以，让我们从头开始。硅谷的诞生可以说是二战后军事计算资金的泛滥。军方想要资助各种各样的东西，但是他们不能自己制造，所以他们开始从在硅谷建立的各种实验室购买硬件来制造晶体管。这是硅谷的真正起源，在知道有一个愿意购买极度 beta 技术的买家的情况下，有能力建造奇怪的新东西。

那么，互联网本身就是阿帕网项目的产物，阿帕网项目是由 DARPA 发起的，旨在将各种以前未连接的服务器联网。如果我们可以使用网络将本地的计算机连接在一起，那么将网络延伸几英里是一个相当合理的下一步。但引用梅特卡夫定律，随着每个新节点的加入，网络的价值呈指数增长。有趣的是，在某一点上，向网络添加新节点的价值超过了成本。在这一点上，向网络添加新计算机的过程变得自我维持，然后发展到我们今天所看到的情况。或者更确切地说，我认为在某一点上，发明本身的商业价值超过了启动它的成本，在这一点之后，就不可能停止互联网的发展。可以说，妖怪已经从瓶子里出来了。

在 20 世纪 70 年代，超级计算和人工智能出现了不同的现象。军方资助了该领域的许多不同战略，这些战略开始提出越来越多的古怪主张，以获得更大的份额。一旦人们清楚这些方法中的许多都行不通，人工智能的冬天就来了，当 DARPA 撤销了对这些项目中的许多项目的资助，该领域被迫尝试并保护自己。没有一个富有的捐助者，或者更准确地说，没有一个清晰的商业计划，超级计算和人工智能都陷入了困境。十年后，英国和日本经历了类似的现象。

因此超级计算机竞赛在很大程度上失败了。但是计算机已经证明了它们的普遍价值，因此总体上继续变得越来越便宜。个人计算开始起步，类似的情况也发生了，然而电脑对个人用户的价值超过了成本门槛，因此，个人电脑革命变得可以自我维持。由于对家用电脑的巨大兴趣，20 世纪 80 年代和 90 年代出现了个人电脑革命。我特别感兴趣的是 20 世纪 90 年代末的第三代超级计算浪潮，这在很大程度上是取下商用处理器(其发展速度远远超过专业超级计算制造商的梦想)并使用先进的网络将它们连接在一起以分布式方式解决问题的结果。商品化的通用硬件胜过构建专门的处理器和方法。大多数当前/第四代超级计算都遵循这一趋势，使用商用计算硬件并专注于定制网络以增加进程内通信。

### GPU 的历史

所以，为了看另一个浪潮，我们可以考虑视频卡的故事。最初，计算机只能生成单色和基本文本。内存容量增加到可以存储更大量的数据，使得彩色成为可能，分辨率也逐渐提高。在某种程度上，实时光栅化 3D 图形成为可能，3dfx 将第一个真正的 GPU 推向了市场。使用图形编程语言，一个全新的交互体验(又名游戏)世界突然变得可能。因此，为了反映以前的互联网和个人计算浪潮，玩游戏的商业价值在芯片组中创造了一场自我维持的革命，这场革命今天仍在继续。我们今天在图形卡上运行模型的全部原因是由于几十年前视频游戏的流行。

GPU 也即将被商品化所消费。尽管目前新体验市场仍在继续增长，但即使是预算卡也支持 4k 视频等功能，这在几年前是不可想象的。在 GPU 上运行非游戏代码(特别是比特币和深度学习)本身是一项非常近期的创新，为市场注入了新的活力。制造这些设备的公司很快就达到了原始处理的极限，从而使这一切成为可能。他们试图将新的硬件推向市场，同时又不偏离驱动一切的游戏市场太远。这是推动 VR 和 AR 体验的很大一部分。随着 GPU 变得越来越通用，它们越来越多地吸收了越来越多以前仅由 CPU 控制的计算堆栈。

### 云计算

虚拟机极大地改变了人们与计算的交互方式，即使他们没有意识到这一点。一度，设置和配置服务器需要几天时间；现在几秒钟就能搞定。这使得工作流中的资源按需启动，然后立即丢弃。软件越来越多地在越来越高的抽象层次上运行，这使得全新的方法变得司空见惯。这将产生我们今天甚至无法完全理解的长期影响。世界上最大的计算集群不是超级计算机，而是为云提供商运行数千台虚拟机的托管服务器。

## 跨越鸿沟

AI 和 ML 都不是新领域。感知器形式的神经网络发明于 1958 年。直到最近，随着计算能力和硬件的进步，它们才变得实际可行。此外，我认为他们终于跨越了知识好奇心的鸿沟，进入了推动大公司底线的领域。因此，他们已经进行了必要的转变，成为一种自我维持的技术，就像给出的例子一样。谷歌明天可能会删除 tensorflow 知识库。英伟达可能会停止发售显卡。但是不管怎样，这些技术将继续被改进和完善，因为它们在行业中有真实的实际使用案例。因此，妖怪已经从瓶子里出来了。没有办法回到人工智能出现之前的世界。无论如何，人工智能带来的收益将被带到每个领域。

### 计算机视觉

让我们来看看我认为在未来十年中很重要的几个大领域。

### 直接应用

许多更先进的计算机视觉形式终于看到运行它们所需的硬件和计算能力成为主流。我对实时系统领域特别感兴趣，无论是自动驾驶汽车上的摄像头，还是能够在现场分析医疗数据，甚至只是找到使用手机摄像头的新方法。这个领域现在才刚刚开始被触及。

### 间接应用

许多不一定与图像相关的有趣问题可以转换成图像，然后使用 CNN 风格的方法解决。历史上，从资源的角度来看，这些技术中的许多都是不切实际的，但是随着越来越多的人工智能专用硬件成为主流，许多以前不可行的方法变得可行。以 AlphaGo 为例，它是一种大规模强化算法，将棋盘游戏 Go 的游戏状态转换为图像表示，然后对其应用一个极其庞大的卷积神经网络。不过，基本方法是使用剩余层和大规模计算构建的卷积神经网络。当普通研究人员获得类似数量的资源时，我认为许多有趣的新方法将在刚刚开始人工智能实验的领域中被发现。

## 自然语言处理

通过使用大数据方法(例如，从维基百科、扫描书籍和互联网收集的数据语料库)，简单的方法突然变得强大，因为它给了机器更多的信息来处理。这反过来会产生直接的财务影响(例如，改进搜索和推荐引擎)，因此现在有大量的资源投入到这方面。它最终会变得司空见惯。

## 强化学习和 GANs

我在短期内对这些领域有些悲观，因为它们似乎仍然需要大量的资源，而且目前仍然没有很多明确的商业应用。话虽如此，我相信从长远来看，这是最有可能推动 AI/ML 发展的领域。现在，计算机视觉的大多数改进都是非常小的增量调整，任何时候一个想法在 RL 的上游显示出前景，那么很快人们就会试图在其他地方使用它。使用合成数据训练神经网络似乎是最有可能在不久的将来成为商业驱动力的领域。超级采样/分辨率正在进入硅领域，并且很明显将会持续下去。

## 一般模拟

另一个有趣的领域，我认为即将被神经技术革命的是一般的物理模拟。大量的计算能力被有规律地投入到基于物理的复杂交互模拟中。我不看好神经网络直接取代物理模拟，因为原始数学总会有一席之地，但使用网络模拟真实世界的数据集打开了一个有趣的窗口，可以说，能够模拟模拟，并且通过扩展，能够比传统方法更快地建立近似正确的模型。如果基于神经网络的模拟证明了自己，那么传统方法可以作为最后阶段运行，提供两个世界的最佳效果(例如，快速实验和需要时的基本严格性)。网络有脱离现实的危险(例如，模拟错误的东西)，但是我相信有领域专家会避免这个问题。

## 到无限和更远

我的经验是，这个领域作为一个整体，现在并不缺乏想法。arXiv 上每年都有数千篇论文发表，而且提交率还在持续增长。许多其他领域，特别是数学，似乎最终确信深度学习技术会一直存在，并且它们需要跟上潮流，所以许多非常聪明的人正在做这些 hello world 练习，就像你一样。从短期来看，这会造成大量人员流失。人们发表了无数的博客文章，试图解释他们的新想法，并在网上讨论最佳方法。pytorch 或 tensorflow 的每个新的主要版本都以各种令人兴奋的新方式打破了现有的项目。人们对复杂性束手无策，并决定创建一个新的统一系统来做事，瞧，又有了一个新的框架。就在我们说话的时候，这一切正在发生。整个行业正蹒跚地从闪亮的东西走向闪亮的东西。简单的事实是，没有人真正知道正确的前进道路是什么。新技术每天都在被发现，深度学习方法已经汇集了几十个相关领域。神经网络和大数据方法已经在生物学、天文学、物理学和经济学等完全不同的问题上证明了自己。现在每个领域都必须学习计算机科学，否则他们会被那些学习的人甩在后面。

所以让我告诉你 iOS 早期的程序员的故事。到了第二代，苹果允许人们提交应用程序。有一次大规模的淘金热，人们可以(也确实试图)将世界上几乎所有的东西都运出去。接下来的几年很有趣，因为越来越多的方法最终稳定下来并流行起来。过了一段时间，库和框架变得标准化了。对我来说，所有这些深度学习的喧嚣都是很久以前的相同经历。

## 为什么是 Swift

Swift 是 iOS 生态系统中一场有趣的革命。Objective-C 正在显示它的年龄，swift 匆忙地把 iOS 程序员带了很长一段路。垃圾收集是这一领域的一种传统方法，在具有大量内存和空闲周期来运行垃圾收集的系统上运行良好。但是在具有严格实时要求的生产系统中，无论是提供 24/7 包处理保证的服务器还是具有准随机使用模式的移动设备，这种方法都不能达到预期的效果。Android 试图通过让制造商在他们的设备上安装越来越多的 RAM 来掩盖这一差距，但这使得设备成本更高，这在现实世界中往往不可行。

LLVM 最初以自动引用计数的形式潜入 iOS，这是 Objective-C 中添加的一个特性，用于计数/跟踪内存周期，并通过扩展能够为开发人员手动添加 malloc 和免费调用。一旦这项技术证明了自己，通过消除程序员日常工作流程中的内存管理，Lattner 等人将目光放得更高。

Swift 被设计成一种现代语言，对于现有的 Objective-C 程序员来说不会显得格格不入，我觉得在这一点上它非常成功。它将函数式编程的思想和概念带入了 iOS 世界，使两个世界之间的沟通变得容易。有一段特定的代码需要 C #原始内存访问？只需直接进入原始内存访问，编译器就可以对整个代码区域进行边界检查。是否已有需要移植到 swift 的 C 库？简单地写一个简单的 API 层来封装你的库。然后，iOS(以及最终的 Mac)的所有系统级通信都被迫通过一个快速的间接层。从短期来看，这是令人痛苦的，因为它迫使编码人员不再能够直接进行系统调用。但是随着时间的推移，这种方法极大地模块化了系统级的代码库，并隔离了许多不同的 bug。

当苹果在吃自己的狗粮时，iOS 开发者也在经历类似的转变。早期涌现了许多开源库，每一个都有自己的权衡和模式。通过转向 swift，这迫使大部分生态系统要么进化，要么停留在过去。然而，反过来，这种转变允许人们专注于更高层次的问题，而不是停留在低层次的细节上。

因此，苹果做了关键的最后一步，将这种语言开源，并向外部开发者完全开放，让他们做出贡献，塑造其未来。任何人都可以投稿，现在已经有数千人投稿了。新的编程语言的产生极其困难。小众语言通常默默无闻。大公司在世界上推广新语言，但这种自上而下的方法通常只有在原始公司推动进步的情况下才有效。

对我来说，swift 的优势是多方面的。对初学者来说是一门简单易学的语言。它有一个致力于其成功的大捐助者(苹果)的支持，但不是技术上的负责人。它有一个开放源码贡献者的多样化生态系统，并且利用几十年来构建 C 库的经验，每天都在解决现实世界中的实际问题。它以一种实用的方式将函数式编程概念带到了过程世界，而不强迫人们完全改变他们做事的方式。

## 为什么选择 LLVM

然而，Swift 真正的魅力在于它是 LLVM 的原始语言。编译器历来注重生成非常非常快的代码。这对于进步来说是很好的，但是也意味着许多实现追求速度而不是正确地做事，可以这么说。结果是，我们最终用许多不同的编译器为几十台稍有不同的计算机生成稍有不同的代码，然后构建系统变得非常庞大和复杂。生成一种新的编程语言变得非常困难，因为人们一开始就要求性能。

LLVM 重建了编译器理论的基础，并通过重新统一这些领域，催生了新语言的复兴。从高层次上来说，您所要做的就是生成一个 IR，然后 LLVM 可以想出如何让它在您的设备上运行。这意味着现在有很多很多不同的语言在使用 LLVM。直接的结果是，通过使用 LLVM，您可以获得许多不同生态系统的集体改进。

就复杂性而言，这对于程序员来说是一项多一点的工作，但结果是从根本上使编译器有可能做更多的事情。我们已经看到了 LLVM 领域的惊人进步；人们已经展示了在大型集群和其他方法上运行巨大的作业。

机器学习在许多方面仍处于起步阶段。单 GPU 代码是最大的范例。人们为集群写东西，但是大部分时间仍然是非常定制的代码。我们在单指令和单变量代码(CPU 风格的编程)方面有大量的经验，但是从历史上看，单指令多数据代码很难编写。我们最终会为不同的东西手工定制很多内核。这在一般意义上很好，因为程序员可以进行系统调用并获得优化的代码，但这意味着程序员很难轻松利用他们手头的任何硬件。

## 为什么是 MLIR

最终的结果是，在过去的几年里，机器学习生态系统发生了巨大的变化。每个制造商最终都试图构建库来为他们的硬件提供最佳体验。研究人员试图让 tensorflow 做许多它从未被设计过的事情，因此试图支持每一种排列对谷歌来说都很困难。Pytorch 有效地重建了一个框架，只是为了使生成 CUDA 代码更简单。MLIR 为这两个世界提供了一座便捷的桥梁。硬件制造商可以简单地将注意力集中在为他们的设备生成代码的 IR 上。可以说，编码人员可以用他们喜欢的任何语言编写，然后语言专家只需要找到一种方法将他们的 LLVM AST 转换成 MLIR 语法。然后我们可以梦想一个未来，我们可以使用 swift(或任何支持 LLVM 的语言)代码，并可以为任何我们想要的后端编译它。

## 为什么 ML 是最重要的领域

未来几十年，机器学习有能力吸收世界上所有的计算能力。这场静悄悄的革命将在几十个领域产生影响。我们越来越容易使用这些工具，让它们能够灵活地扩展到越来越大的计算系统上，人类作为一个整体的长期潜力就越大。大规模计算有能力从根本上做以前不可能做的事情。

集群的规模只会越来越大。但所有这些对扩展的强调都忽略了一个事实，即今天个人可用的计算资源比历史上任何时候都多。如果你现在愿意投入时间和精力，那么随着这些事情的不断改善，你将是第一个能够利用这场革命的人。

为此，你可以走两条路。一种是选择一匹特别的马，不管是硬件还是框架，全力以赴。另一个是专注于帮助它，这样就不会有特定的框架或技术获得对生态系统的控制。让所有这些不同的群体作为一个整体一起工作有可能从根本上彻底改变这个领域。

硬件现在刚刚被弄清楚，但这将在未来几年内发生巨大变化。我承认，这个软件现在有点粗糙。但是机遇从来不会被整齐地包装在一个带蝴蝶结的包裹里。通常情况下，这看起来像是一项艰苦的工作。但是今天做一点点工作会让你为明天带来的一切做好准备。

## 为什么不

进步是许多许多人几个世纪共同努力的结果，而不是孤立于任何一个地方或时间。通过帮助机器学习变得更加容易，你正在帮助改进工具，这些工具将间接影响数百万其他人的生活。这有可能带来历史上前所未有的进步。

## 你是谁

你可以等待别人给你带来未来，或者帮助他们建设未来。现在是开始行动的最佳时机。未来就是现在！来加入我们吧！