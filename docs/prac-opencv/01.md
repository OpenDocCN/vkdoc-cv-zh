# 1.计算机视觉和 OpenCV 简介

Abstract

当我们醒着的时候，我们从这个世界获得的信息中有很大一部分是通过视觉获得的。我们的眼睛做了一件奇妙的工作，不停地旋转，根据需要改变焦点来看东西。我们的大脑在处理来自双眼的信息流、创建我们周围世界的 3D 地图以及让我们意识到自己在这张地图中的位置和方向方面做得更好。如果机器人(以及一般的计算机)能像我们一样看到并理解他们看到的东西，那不是很酷吗？

当我们醒着的时候，我们从这个世界获得的信息中有很大一部分是通过视觉获得的。我们的眼睛做了一件奇妙的工作，不停地旋转，根据需要改变焦点来看东西。我们的大脑在处理来自双眼的信息流、创建我们周围世界的 3D 地图以及让我们意识到自己在这张地图中的位置和方向方面做得更好。如果机器人(以及一般的计算机)能像我们一样看到并理解他们看到的东西，那不是很酷吗？

对于机器人来说，视觉本身不是什么问题——各种各样的相机都有，而且非常容易使用。然而，对于一台连接有摄像头的计算机来说，摄像头馈送从技术上来说只是一组随时间变化的数字。

进入计算机视觉。

计算机视觉就是让机器人足够聪明，能够根据它们看到的东西做出决定。

## 为什么写这本书？

在我看来，今天的机器人就像 35 年前的个人电脑——一项新兴技术，有可能彻底改变我们的日常生活方式。如果有人带你提前 35 年，不要惊讶地看到机器人在街上漫步，在建筑物内工作，在许多日常任务中帮助人类并与人类安全合作。如果你在工业和医院里看到机器人，轻松地执行最复杂和要求最精确的任务，也不要感到惊讶。你猜对了，要做到这一切，他们需要高效、智能、鲁棒的视觉系统。

计算机视觉可能是当今机器人领域最热门的研究领域。世界各地有很多聪明人试图设计算法并实现它们，让机器人有能力智能和正确地解释他们看到的东西。如果你也想在这个研究领域有所贡献，这本书是你的第一步。

在这本书里，我打算通过一系列越来越复杂的项目，在计算机视觉研究的一些最重要的领域里，教你一些基本的概念，以及一些稍微高级的概念。从让计算机识别颜色这样简单的事情开始，我将带领你经历一段旅程，甚至教你如何让机器人根据其摄像头馈送中的对象如何移动来估计其速度和方向。

我们将在一个名为 OpenCV 的编程库(粗略地说，是一组可以执行相关高级任务的预写函数)的帮助下实现我们所有的项目。

这本书将让您熟悉 OpenCV 通过其内置函数提供的算法实现、算法的理论细节以及使用 OpenCV 时通常采用的 C++编程原理。在本书的结尾，我们还将讨论几个项目，在这些项目中，我们将 OpenCV 的框架用于我们自己设计的算法。将假设对 C++编程的熟悉程度适中。

## 开放计算机视觉

开源计算机视觉。org 是计算机视觉的瑞士军刀。它有各种各样的模块，可以帮助你解决很多计算机视觉问题。但是 OpenCV 最有用的部分可能是它的架构和内存管理。它为您提供了一个框架，您可以使用 OpenCV 的算法或您自己的算法，以任何方式处理图像和视频，而不必担心为图像分配和取消分配内存。

### OpenCV 的历史

探究一下 OpenCV 为什么以及如何被创建是很有趣的。OpenCV 作为英特尔研究院的一个研究项目正式启动，旨在推进 CPU 密集型应用中的技术。该项目的许多主要贡献者包括英特尔俄罗斯研究院和英特尔性能库团队的成员。该项目的目标如下:

*   通过为基础视觉基础设施提供开放且优化的代码，推进视觉研究。(不再多此一举！)
*   通过提供一个开发人员可以构建的公共基础设施来传播视觉知识，这样代码将更易于阅读和转移。
*   通过免费提供可移植的、性能优化的代码，推进基于视觉的商业应用——许可证不要求应用本身开放或免费。

OpenCV 的第一个 alpha 版本在 2000 年的 IEEE 计算机视觉和模式识别会议上向公众发布。目前，OpenCV 由一个名为[OpenCV.org](http://OpenCV.org)的非营利基金会所有。

### 内置模块

OpenCV 的内置模块功能强大，用途广泛，足以解决大多数计算机视觉问题，这些问题都有成熟的解决方案。您可以裁剪图像，通过修改亮度、锐度和对比度来增强图像，检测图像中的形状，将图像分割成直观明显的区域，检测视频中的移动物体，识别已知物体，根据摄像头馈送估计机器人的运动，以及使用立体摄像头获得世界的 3D 视图，这只是其中的几个应用。然而，如果你是一名研究人员，想要开发自己的计算机视觉算法，而这些模块本身并不完全足够，OpenCV 仍然会通过其架构、内存管理环境和 GPU 支持来帮助你。你会发现你自己的算法与 OpenCV 高度优化的模块协同工作确实是一个强有力的组合。

OpenCV 模块需要强调的一个方面是它们是高度优化的。它们旨在用于实时应用，旨在跨各种计算平台(从 MacBooks 到运行精简版 Linux 的小型嵌入式 fitPCs)快速执行。

OpenCV 为您提供了一组模块，可以大致执行表 [1-1](#Tab1) 中列出的功能。

表 1-1。

Built-in modules offered by OpenCV

<colgroup><col> <col></colgroup> 
| 组件 | 功能 |
| --- | --- |
| 核心 | 核心数据结构、数据类型和内存管理 |
| 伊姆普洛克 | 图像过滤、几何图像变换、结构和形状分析 |
| 海贵 | GUI，读取和写入图像和视频 |
| 录像 | 视频中的运动分析和目标跟踪 |
| calib | 摄像机标定和多视图三维重建 |
| 功能 2d | 特征提取、描述和匹配 |
| object detect(对象检测) | 使用级联和梯度直方图分类器的目标检测 |
| 机器语言(Machine Language) | 用于计算机视觉应用的统计模型和分类算法 |
| 弗兰恩 | 近似最近邻的快速库—在高维(特征)空间中的快速搜索 |
| 国家政治保卫局。参见 OGPU | 并行化选定算法，以便在 GPU 上快速执行 |
| 缝 | 用于图像拼接的扭曲、混合和束调整 |
| 非免费 | 在某些国家获得专利的算法实现 |

在这本书里，我将介绍利用这些模块的项目。

## 摘要

我希望这一介绍性章节已经让你对这本书的内容有了一个大概的了解！我心目中的读者群包括对使用 C++知识编写快速计算机视觉应用程序感兴趣的学生，以及对学习许多最著名算法背后的基本理论感兴趣的学生。如果你已经知道这个理论，并且对学习 OpenCV 语法和编程方法感兴趣，这本书及其大量的代码示例也会对你有用。

下一章讨论在你的计算机上安装和设置 OpenCV，这样你就可以快速开始一些令人兴奋的项目了！