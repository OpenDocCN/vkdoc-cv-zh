# 九、附录 A：合成特征分析

本附录根据第 7 章的[中描述的合成特征字母对几种常见的探测器进行了分析。完整的源代码、shell 脚本和字母图像集可以从 Springer Apress 获得:`http://www.apress.com/source-code/ComputerVisionMetrics`](07.html)

![9781430259299_AppA-01.jpg](images/9781430259299_AppA-01.jpg)

图 A-1。来自下面测试#4 的示例分析结果，(左)显示检测器位置的注释图像，(中)检测的每个字母特征的计数，显示为 2D 阴影直方图，(右)显示所有 10 个检测器的旋转图像集的 2D 阴影直方图集

本附录包含:

*   分析的背景、方法、目标和期望。
*   合成字母地面真相图像摘要。
*   用于标准 OpenCV 方法的检测器参数列表:SIFT、SURF、BRISK、FAST、HARRIS、GFFT、MSER、ORB、STAR、SIMPLEBLOB。注意:没有计算或使用特征描述符，在分析中仅使用了 BRISK、SURF、SIFT、ORB 和 STAR 的检测器部分。
*   测试 1:兴趣点字母表。
*   测试 2:角点字母。
*   测试 3:合成字母表覆盖在真实图像上。
*   测试 4:检测器对合成字母的旋转不变性。

背景目标和期望

分析的主要目标是:

*   发展一些关于感兴趣的点和角检测器的人类与机器检测的简单直觉，观察合成字母表上的检测器行为，并发展对设计和调整特征检测器所涉及的问题的一些理解。
*   测量字母的白色、黑色和灰色版本中的探测器异常。无论背景和前景是否改变，人都会容易地识别出相同的图案；然而，探测器设计和参数设置影响探测器对背景和前景极性的不变性。
*   测量旋转时检测器对轻微像素插值伪影的灵敏度。

![image](images/sq.jpg) **注意**对于兴趣点和角点检测器方法的能力具有良好直觉的有经验的从业者可能不会在该分析中发现任何惊喜。

该分析使用 OpenCV 库中实现的几种众所周知的检测器方法；见[表 A-1](#Tab1) 。该分析仅提供检测机信息，无意将检测机的良好性与任何标准进行比较。各种检测器识别合成字母表中哪些特征的细节显示在汇总表中，计算每个网格单元检测特征的次数。对于某些应用，合成兴趣点字母表方法可能是有用的，假设设计了特定于应用的字母表，并且针对应用设计和调整了检测器，例如用于识别制造对象或部件的工厂检测应用。

[表 A-1](#_Tab1) 检测器的调谐参数

| 

探测器

 | 

调谐参数

 |
| --- | --- |
| 轻快的 | 八度= 3
阈值= 30 |
| 快的 | threshold = 10
nonmaximal suppression = TRUE |
| 哈里斯 | maxCorners = 60000(捕获所有检测)
quality level = 1.0
minDistance = 1
block size = 3
useharrisdetecorr = TRUE
k = . 04 |
| GFFT(联邦快递) | maxCorners = 60000(捕获所有检测)
quality level = . 01
minDistance = 1.0
block size = 3
useHarrisDetector = FALSE
k = . 04 |
| 姆塞勒 | delta = 5
minaria = 60
maxarea 14400
max variance = . 25
mindiversity = . 2
max evolution = 200
areathreshold = 1.01
minmargin = . 003
edge blursize = 5 |
| 球 | WTA _ K = 2
edge threshold = 31
first level = 0
n features = 60000(捕获所有检测)
n levels = 8
patch size = 31
scale factor = 1.2
score type = 0 |
| 撒 | contrast threshold = 4.0
edgethreshold = 10.0
n features = 0
nOctaveLayers = 3
sigma = 1.0 |
| 星星 | maxSize = 45
response threshold = 30
linethreshold projected = 10
linethreshold binary ized = 8 |
| 冲浪 | extended = 0
hessian threshold = 100.0
nOctaveLayers = 3
nOctaves = 4
upright = 0 |
| 简单斑点 | threshold step = 10
min threshold = 50
max threshold = 220
min repetitive = 2
mindistbethern blobs = 10
filterByColor =**true**
blob color = 0
filterByArea =**true**
minArea = 25
max area = 5000
filterByCircularity =**false**
min circularity
filterByInertia =**true**minInertiaRatio = 0.1f
maxinertiararatio = STD::numeric _ limits<**float**>::*max*()
filterbyconveillance =**true**
min conveillance = 0.95 f
max conveillance = STD::numeric _ limits<**float**>:*max* |

测试方法和结果

真实情况数据集中的图像被用作一些修改的 OpenCV 测试的输入:

*   opencv_test_features2d

    (轻快，快速，哈里斯，GFFT，MSER，圆球，星星，简单斑点)

*   opencv_test_nonfree

    (冲浪，筛选)

每个探测器使用的调谐参数 见[表【A-1】中的](#Tab1)；更多信息参见 OpenCV 文档。注意:不尝试调整合成字母的检测器参数。参数设置是合理的默认值；然而，在某些情况下，最大关键点特征计数会增加，以允许记录所有检测到的特征。

每项测试都会产生各种结果，包括:

1.  显示检测到的特征的位置和方向(如果提供)的注释图像。
2.  文本文件中跨网格的每个检测到的合成要素的汇总计数，包括兴趣点坐标、检测器响应强度、方向(如果检测器提供)以及找到的检测到的合成要素总数。
3.  2D 直方图显示了字母表中每个特征的箱数。

检测器参数不适用于合成字母

此处未尝试调整功能检测器。为什么？总之，在缺少(1)使用关键点的特定特征描述符和(2)预期应用和用例的情况下，特征检测器调整具有非常有限的价值。这种方法可能会引起一些反对意见，因为检测器是为调谐而设计的，并且必须被调谐以获得实际应用的最佳结果。然而，此处的测试结果只是一个起点，旨在允许与人类预期相比对检测器行为进行简单观察。

在某些情况下，关键点不适合于产生有用的特征描述符，即使该关键点具有高分和高响应。如果在关键点处计算的特征描述符产生太弱的描述符，则该关键点和相应的描述符都应该被拒绝。每个检测器被设计成对不同类别的感兴趣点有用，并且相应地被调整以将结果过滤成对特定特征提取器有用的一组良好候选。

因为我们在这里不处理任何特定的特征描述符方法，所以调整关键点检测器具有有限的价值，因为在没有特定特征描述的情况下检测器参数调整是不明确的。此外，对于每个探测器-描述符对，探测器调谐将是不同的，对于每个应用是不同的，并且对于每个图像可能是不同的。

调整检测器并不简单。每个探测器都有不同的参数来调整给定图像的最佳结果，并且每个图像对照明、对比度和图像预处理提出了不同的挑战。对于典型的应用，检测到的关键点基于一些过滤标准被剔除和丢弃。OpenCV 提供了几种调整检测器的新方法，但是这里没有使用。OpenCV 调优方法包括:

*   **DynamicAdaptedFeatureDetector**类将使用 *adjusterAdapter()* 来调整支持的检测器，以仅保留有限数量的特征，并迭代几次检测器参数并重新检测特征，以便尝试并找到最佳参数，仅保留请求数量的最佳特征。一些 OpenCV 检测器提供了一个 *adjusterAdapter()* ，而一些没有，API 允许创建调整器。
*   **AdjusterAdapter** 实现兴趣点的剔除和保留标准。标准可以包括 KNN 最近匹配、检测器响应或强度、到最近的其他检测点的半径距离、移除不能计算描述符的关键点等。
*   **金字塔适配特征检测器** 类可用于适配不使用尺度空间金字塔的检测器，该适配器将创建高斯金字塔并检测金字塔上的特征。
*   **GridAdaptedFeatureDetector**类将图像划分为网格，并调整检测器以找到每个网格单元内的最佳特征。

对测试结果的期望

读者应该把这些测试当作信息，只是为了发展对特征检测的直觉。测试结果并不能证明任何探测器的优点。对测试结果的解释应牢记以下信息:

1.  一组检测器调谐参数用于所有图像，并且检测器结果将根据调谐参数而变化很大。事实上，这些参数被故意设置为 ORB、SURF 和其他检测器的过度敏感值，以生成可以找到的最大数量的可能关键点。
2.  有时一个字母特征产生多个检测；例如，单个拐角字母特征实际上可能包含几个拐角特征。
3.  在图像特征网格中复制特征的分布上，检测结果可能不可重复。换句话说，对人类来说看起来差不多的相同模式，有时在不同的位置是无法识别的。如果不仔细研究每个算法，很难说会发生什么。
4.  使用诸如 SIFT、SURF、ORB、STAR 和 BRISK 之类的图像金字塔的检测器可以在比例空间中识别偏移的或在实际字母表特征之间的关键点。这是意料之中的，因为检测机正在使用来自多个尺度的特征。

合成字母表真实情况图像概述

这里总结了地面实况数据集。注意，集合中每个图像文件的旋转版本以 10 度的间隔从 0 度到 90 度提供。每组中的 0 度图像为 1024x1024 像素，每组中的旋转图像略大，以包含整个旋转的 1024x1024 像素网格。

合成兴趣点字母表

合成兴趣点字母表包含 83 个独特模式的倍数，如[图 A-2](#Fig2) 所示。总共 7 x 7 组 83 个特征适合 1024 x 1024 的图像。图像的唯一特征总数为 7 x 7 x 83 = 4116，每个特征有 7 x 7 = 49 个实例。特征被布置在由 10 行和 10 列组成的 14x14 像素网格上，包括几个空的网格位置。灰度图像像素值为 0x40 和 0xc0，黑白像素值为 0x0 和 0xff。

![9781430259299_AppA-02.jpg](images/9781430259299_AppA-02.jpg)

[图 A-2](#_Fig2) 。综合兴趣点

合成角点字母表

合成角点字母表包含 63 个独特图案的倍数，如图[图 A-3](#Fig3) 所示。总共 8 x 12 组 63 个特征适合 1024x1024 图像。唯一功能总数为 8 x 12 x 63 = 6048，每个功能有 8 x 12 = 96 个实例。每个特征排列在 14×14 像素矩形的网格上，包括 9 行和 6 列特征。灰度图像像素值为 0x40 和 0xc0，黑白像素值为 0x0 和 0xff。

![9781430259299_AppA-03.jpg](images/9781430259299_AppA-03.jpg)

[图 A-3](#_Fig3) 。合成角点

合成字母覆盖图

提供了一组合成字母覆盖的图像，包括每个图像的旋转版本，如[图 A-4](#Fig4) 所示。

![9781430259299_AppA-04.jpg](images/9781430259299_AppA-04.jpg)

[图 A-4](#_Fig4) 。覆盖在真实图像上的合成字母

测试 1:合成兴趣点字母检测

[表 A-2](#Tab2) 提供了检测到的合成兴趣点总数。注:探测器总数包括在图像金字塔的每个尺度上计算的特征。对于报告图像金字塔每一级特征检测的检测器，单个金字塔级检测在[表 A-3](#Tab3) 中显示。

[表 A-2](#_Tab2) 。在合成兴趣点字母表中发现的检测特征的汇总计数，0 度旋转

![9781430259299_unAppA-01.jpg](images/9781430259299_unAppA-01.jpg)

[表 A-3](#_Tab3) 。合成兴趣点字母表中检测到的特征的八度计数，0 度旋转

![9781430259299_unAppA-02.jpg](images/9781430259299_unAppA-02.jpg)

在每个字母单元中检测到的特征的总数在来自注释图像的汇总表中提供。请注意，在每个 14x14 单元内可能会检测到几个特征，并且检测器通常会提供不可重复的结果，这将在本附录的末尾进行讨论。计数显示整个图像中检测到的字母特征的总数，如图[图 A-5](#Fig5) 所示。

![9781430259299_AppA-05.jpg](images/9781430259299_AppA-05.jpg)

[图 A-5](#_Fig5) 。注释的 BRISK 检测器结果。注意:有几个非重复性异常

注释的合成兴趣点检测器结果

对于 ORB 和 SURF 检测器，使用 *drawkeypoints()* 函数 的注释渲染过于密集，无法用于可视化，但包含在在线测试结果中。

根据 OpenCV 关键点类定义，在每个检测到的关键点处绘制的圆的直径对应于“有意义的关键点邻域的直径”，其大小根据检测到该特征的图像金字塔等级而变化。有些探测器不使用金字塔，所以直径总是一样的。检测到的特征的位置被归一化到全分辨率图像，并且所有检测到的关键点被绘制。

在线提供完整图像

为了更好地了解每次测试的检测机结果，应查看整个图像以了解异常情况，例如检测机无法识别相同图案的情况。[图 A-5](#Fig5) 是显示 BRISK 探测器结果的完整图像，其他图像可在线获取。[图 A-6](#Fig6) 至 [A-15](#Fig15) 中显示的测试结果仅显示了部分图像。

![9781430259299_AppA-06.jpg](images/9781430259299_AppA-06.jpg)

[图 A-6](#_Fig6) 。简单斑点检测器，显示单个字母网格集的结果。(顶行)高斯和盐/胡椒响应。(中间一行)黑色、白色和灰色响应。(底行)在网格中的所有字母中、在每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-07.jpg](images/9781430259299_AppA-07.jpg)

图 A-7。恒星探测器，显示单个字母网格组的结果。(顶行)高斯和盐/胡椒响应。(中间一行)黑色、白色和灰色响应。(底行)在每个 1024x1024 图像、黑色、白色和灰色图像、彩色编码表格的网格中所有字母的单个字母特征检测的汇总计数

![9781430259299_AppA-08.jpg](images/9781430259299_AppA-08.jpg)

图 A-8。GFFT 检测器，显示单个字母网格集的结果。(顶行)高斯和盐/胡椒响应。(中间一行)黑色、白色和灰色响应。(底行)网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-09.jpg](images/9781430259299_AppA-09.jpg)

图 A-9。MSER 探测器(白底黑、黑底白、深灰底浅灰无探测特征)

![9781430259299_AppA-10.jpg](images/9781430259299_AppA-10.jpg)

图 A-10。ORB 检测器(使用默认参数的注释没有用，在线提供图像)，结果显示在网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-11.jpg](images/9781430259299_AppA-11.jpg)

图 A-11。轻快的检测器，显示单个字母网格集的结果。(顶行)高斯和盐/胡椒响应。(中间一行)黑色、白色和灰色响应。(底行)网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-12.jpg](images/9781430259299_AppA-12.jpg)

图 A-12。快速检测器，显示单个字母网格组的结果。(顶行)高斯和盐/胡椒响应。(中间一行)黑色、白色和灰色响应。(底行)网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-13.jpg](images/9781430259299_AppA-13.jpg)

图 A-13。哈里斯检测器，显示单个字母网格集的结果。(顶行)高斯和盐/胡椒响应。(中间一行)黑色、白色和灰色响应。(底行)网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-14.jpg](images/9781430259299_AppA-14.jpg)

图 A-14。SIFT 检测器，显示单个字母网格集的结果。(顶行)高斯和盐/胡椒响应。(中间一行)黑色、白色和灰色响应。(底行)网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-15.jpg](images/9781430259299_AppA-15.jpg)

[图 A-15](#_Fig15) 。SURF detector (使用默认参数的注释没有用，在线提供图像)，结果显示在网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

测试 2:合成角点字母检测

[表 A-4](#Tab4) 提供了在所有金字塔等级上检测到的合成角点总数；一些探测器不使用金字塔。注:对于在图像金字塔等级上分别报告特征的检测器，单个金字塔等级检测显示在[表 A-5](#Tab5) 中。

[表 A-4](#_Tab4) 在合成兴趣点字母表中发现的检测到的特征的汇总计数，0 度旋转

![9781430259299_unAppA-03.jpg](images/9781430259299_unAppA-03.jpg)

[表 A-5](#_Tab5) 。八度计数在合成角点字母表中发现的检测特征，0 度旋转

![9781430259299_unAppA-04.jpg](images/9781430259299_unAppA-04.jpg)

每个特征存在于 14×14 像素区域内，并且在每个单元中检测到的特征总数在带有注释图像的汇总表中提供。请注意，在每个 14 x 14 单元内可能会检测到几个特征，并且检测器通常会提供不可重复的结果，这将在本附录的末尾进行讨论。

注释的合成角点检测器结果

测试 2 与测试 1 中的兴趣点检测器结果完全相同。因此，对于 ORB 和 SURF 检测器，使用 *drawkeypoints( )* 函数的注释渲染过于密集而无用，但包含在在线测试结果中。

根据 OpenCV 关键点类定义，在每个检测到的关键点处绘制的圆的直径对应于“有意义的关键点邻域的直径”，其大小根据检测到该特征的图像金字塔等级而变化。有些探测器不使用金字塔，所以直径总是一样的。检测到的特征的位置被归一化到全分辨率图像，并且所有检测到的关键点被绘制。

在线提供完整图像

为了更好地了解每次测试的检测机结果，应查看整个图像以了解异常情况，例如检测机无法识别相同图案的情况。图 A-16 至 [A-25](#Fig16) 所示的测试结果仅显示了部分图像。

![9781430259299_AppA-16.jpg](images/9781430259299_AppA-16.jpg)

[图 A-16](#_Fig16) 。简单的斑点检测器(白底黑字是唯一具有检测到的特征的图像)，其结果显示了在网格中的所有字母上、在每个 1024×1024 图像上、黑、白和灰图像上、颜色编码的表格上的单个字母特征检测的汇总计数

![9781430259299_AppA-17.jpg](images/9781430259299_AppA-17.jpg)

图 A-17。恒星探测器，结果显示为一个单一的字母网格集。(顶行)高斯和盐/胡椒响应。(中间一行)黑色、白色和灰色响应。(底行)网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-18.jpg](images/9781430259299_AppA-18.jpg)

图 A-18。GFFT 检测器，显示单个字母网格集的结果。(顶行)高斯和盐/胡椒响应。(中间一行)黑色、白色和灰色响应。(底行)网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-19.jpg](images/9781430259299_AppA-19.jpg)

图 A-19。轻快的检测器，显示单个字母网格集的结果。(顶行)高斯和盐/胡椒响应。(中间一行)黑色、白色和灰色响应。(底行)网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-20.jpg](images/9781430259299_AppA-20.jpg)

图 A-20。快速检测器，显示单个字母网格集的结果。(顶行)高斯和盐/胡椒响应。(中间一行)黑色、白色和灰色响应。(底行)网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-21.jpg](images/9781430259299_AppA-21.jpg)

图 A-21。哈里斯检测器，显示单个字母网格集的结果。(顶行)高斯和盐/胡椒响应。(中间一行)黑色、白色和灰色响应。(底行)网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-22.jpg](images/9781430259299_AppA-22.jpg)

图 A-22。SIFT 检测器，显示单个字母网格集的结果。(顶行)高斯和盐/胡椒响应。(中间一行)黑色、白色和灰色响应。(底行)网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-23.jpg](images/9781430259299_AppA-23.jpg)

图 A-23。SURF 检测器(使用默认参数的注释没有用，在线提供图像)，结果显示在网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-24.jpg](images/9781430259299_AppA-24.jpg)

图 A-24。ORB 检测器(使用默认参数的注释没有用，在线提供图像)，结果显示在网格中所有字母、每个 1024x1024 图像、黑色、白色和灰色图像、颜色编码表中的单个字母特征检测的汇总计数

![9781430259299_AppA-25.jpg](images/9781430259299_AppA-25.jpg)

图 A-25。MSER 检测器(白底黑、黑底白、深灰底浅灰无检测特征)

测试 3:覆盖在真实图像上的合成字母

[表 A-6](#Tab6) 提供了小女孩测试图像中检测到的合成特征总数，如图[图 A-3](#Fig3) 所示。注意，仅使用 0 度版本(无旋转)，并且每个字母表的黑色版本和白色版本都被覆盖。一般来说，白色特征叠加会产生更多的兴趣点和角点检测。

[表 A-6](#_Tab6) 。小女孩的合成叠加图像中检测到的特征的汇总计数

![9781430259299_unAppA-05.jpg](images/9781430259299_unAppA-05.jpg)

叠加图像上的注释检测器结果

带注释的图片可以在网上找到。

测试 4:每个字母表的旋转不变性

本节提供的结果显示检测器响应为黑色、白色和灰色字母的完整 0 到 90 度旋转图像集的*旋转不变性*。主要观察结果:

*   **白底黑字，黑底白字:**旋转不变性一般较少使用黑白图像 与当前的一组检测器和参数，主要是由于(1)用于像素值的 0x0 和 0xff 的最大值和最小值，以及(2)未优化的检测器调谐参数。每个检测器似乎以相似的方式在 0 度和 90 度方向的图像上操作，在每个字母图案上不包含旋转抗锯齿伪影；然而，对于 10 到 80 度的其他旋转，像素伪像结合起来降低了这些字母图案的旋转不变性——每个检测器表现不同。
*   **深灰上的浅灰:**旋转不变性对于使用缩小范围的灰度图像字母集的检测器来说通常更好，所述缩小范围的灰度图像使用像素值 0x40 和 0xc0，而不是黑白图像集中使用的全部最大值和最小值范围。格雷字母检测器结果通常显示旋转下最容易识别的字母字符。这可能是由于在感兴趣的点或角的局部区域中更近范围的灰度值的不太明显的局部曲率。

确定旋转不变性的方法

确定旋转不变性的方法在[图 A-26](#Fig26) 到 [A-30](#Fig26) 中示出，并通过伪代码示出如下:

```py
For (degree = 0; degree < 100; degree += 10)

        Rotate image (degree)
        For each detector (SURF, SIFT, BRISK, ...):
                Compute interest point locations
                Annotate rotated image showing interest point locations
                Compute bin count (# of times) each alphabet feature is detected
                Create bin count image: pixel value = bin count for each alphabet character

```

![9781430259299_AppA-26.jpg](images/9781430259299_AppA-26.jpg)

[图 A-26](#_Fig26) 。计算方法和宁滨检测旋转图像集的字母特征，用于说明的模拟 SIFT 数据。(左)原图。(中左)用检测到的点标注的旋转图像。(中心)整个图像中叠加在字母单元格区域上的所有检测点的计数。(中右)格网单元中检测到的字母特征的汇总箱数。(右)以图像形式呈现箱计数的 2D 直方图；每个像素值都是面元计数。图像中较亮的像素具有较高的箱计数，这意味着字母单元具有较高的检测计数

![9781430259299_AppA-27.jpg](images/9781430259299_AppA-27.jpg)

图 A-27。10 组 SIFT 灰度角字母特征检测结果显示为 2D 直方图图像，应用塞菲亚 LUT，像素值设置为直方图仓值。每个旋转图像的直方图如下所示:左图= 0 度旋转；从左到右顺序:0，10，20，30，40，50，60，70，80，90 度旋转。注意，直方图仓计数是跨整个图像计算的，对每个字母特征的所有检测求和

![9781430259299_AppA-28.jpg](images/9781430259299_AppA-28.jpg)

图 A-28。(左)灰色角点 2D 直方图 bin 图像。从左到右:0-90 度旋转，灰度 LUT 应用，浅灰色深灰色兴趣点字母表 2D 直方图宁滨图像，对比度增强，塞菲亚 LUT 应用

[图 A-26](#Fig26) 和 [A-30](#Fig26) 显示了跨越 0 到 90 度旋转的合成角点检测的汇总面元计数。每个图像中的十列从左到右显示了作为图像显示的 0 到 90 度旋转图像最终箱数。

![9781430259299_AppA-29.jpg](images/9781430259299_AppA-29.jpg)

图 A-29。显示为一组 6x9 像素图像的检测到的角字母特征的汇总箱计数，其中每个像素值是箱计数。(左侧 10 x 10 图像组)白底黑字。(中心 10 x 10 图像组)深灰色角上的浅灰色。(右侧 10 x 10 图像组)黑底白字。注意，灰色字母是用最佳旋转不变性检测的。列从左到右 0-90 度旋转，行从上到下，SURF，SIFT，BRISK，FAST，HARRIS，GFFT，MSER，ORB，STAR，SIMPLEBLOB。塞菲娅·LUT 申请了

![9781430259299_AppA-30.jpg](images/9781430259299_AppA-30.jpg)

图 A-30。显示为一组 10x10 像素图像的检测到的兴趣点字母特征的汇总箱计数，其中每个像素值都是箱计数。(左侧 10 x 10 图像组)白底黑字。(中心 10 x 10 图像组)深灰色角上的浅灰色。(右侧 10 x 10 图像组)黑底白字。注意，灰色字母是用最佳旋转不变性检测的。列从左到右 0-90 度旋转，行从上到下，SURF，SIFT，BRISK，FAST，HARRIS，GFFT，MSER，ORB，STAR，SIMPLEBLOB。塞菲娅·LUT 申请了

结果和不可重复性异常的分析

完整的分析结果是在线的，包括显示检测到的关键点位置的注释图像和包含每个检测到的关键点的摘要信息的文本文件。

警告

每个兴趣点检测器被不同地设计是有故意的原因的；从任何绝对标准来看，没有哪种检测器在所有情况下都是优越的。反对宽松解释这些测试结果的一些论点如下:

1.  **不可预测性:**兴趣点检测器发现从人类视觉系统角度来看经常不可预测的特征，并且它们不会被设计限制在这里所示的合成兴趣点和角点的狭窄边界内。通常，兴趣点检测器会找到人类不会选择的特征。
2.  **像素混叠伪像:**混叠伪像影响检测，并且对于使用最大值和最小值字母的旋转图像最明显，例如白底黑字或黑底白字，并且对于深灰色字母上的浅灰色不太明显。
3.  **尺度空间:**并不是所有的探测器都使用尺度空间，这是一个临界点。例如，SIFT、SURF 和 ORB 在检测过程中使用尺度空间金字塔。尺度空间方法过滤掉在尺度空间金字塔的某些级别中不可见的合成字母表特征。
4.  **二进制与标量值:** FAST 使用二进制值比较来建立描述符，而其他方法使用标量值，如梯度。诸如 FAST 的二进制值方法将检测相同的特征，而不管极性或灰度值范围；然而，基于梯度的标量检测器对像素值极性和像素值范围更敏感。
5.  **像素区域大小:** FAST 使用 7x7 的补丁来寻找相连的圆形周边区域，而 SIFT、SURF 和 ORB 等其他功能使用更大的像素区域，这些像素区域穿过字母网格单元，导致兴趣点位于字母特征之间的中心，而不是在它们上面。
6.  **区域形状:**诸如 MSER 和简单斑点之类的特征被设计成检测没有特定形状的较大的连接区域，而不是诸如兴趣点字母之类的较小的局部特征。诸如 SIFT 之类的仿射不变检测器可以检测对应于仿射尺度和旋转变换的椭圆形或长方形区域中的特征，而诸如 FAST 之类的非仿射检测器可以仅检测与圆形或正方形区域中的模板相同的特征，该模板在尺度上具有一些旋转不变性。
7.  **从图像边界偏移区域:**一些检测器，例如 ORB、SURF 和 SIFT，在从图像边界偏移的位置开始检测器计算，因此不在整个图像上计算特征。
8.  **已证实的价值:**此处使用的每种检测器方法都已证明对实际应用有用且有价值。

记住这些警告，测试结果就可以自己说话了。

测试 1 和 2 中的不可重复性

在测试 1 和 2 中可见的一个有趣的异常出现在注释图像中，说明检测器结果在合成兴趣点和角字母上是不可重复的。在某些情况下，非线性是惊人的；参见测试 1 和测试 2 的注释图像。人类的期望是相同的兴趣点应该被同样好地识别。以下是一些观察结果:

1.  无论背景和前景是否改变，人都会容易地识别出相同的图案；然而，一些检测器对极端的背景和前景极性没有太大的不变性。如果不深入研究每种算法，白色、黑色和灰色字母的检测器行为之间的异常就更难预料和解释。
2.  一些检测器在比 14x14 字母网格更大的区域边界上进行计算，因此检测器实际上忽略字母特征网格并使用相邻的字母特征。
3.  一些检测器使用尺度空间，因此在某些情况下，在较高的尺度级别会遗漏单个字母特征，而 SIFT DoG 等检测器会一起使用多个尺度。

总之，兴趣点检测和参数调整类似于图像处理操作符和它们的参数:有无限的变化可用于实现相同的目标。人们希望，通过研究这里的测试结果，直觉会增加，新的方法可以设计出来。

测试 3 中的其他不可重复性

我们注意到测试 3 使用带有合成覆盖的小女孩图像的不可重复性异常，但是在该测试中对可重复性的期望较低。可以在线在带注释的合成叠加图像中观察到阳性(白色)和阴性(黑色)特征叠加之间的一些差异分析。

测试总结

所有测试的外卖分析包括以下内容:

1.  **不可重复性:**一些不可重复性异常检测几乎相同的特征，仅在局部像素插值伪影的旋转下有所不同。一些检测器也不同地检测黑色、白色和灰色字母。
2.  **灰度级字母(lt. gray on dk.gray)** 一般被检测到与人类预期最相似。结果表明，在当前调谐参数下，检测器对灰度级图案的旋转响应更加一致，而不是最大值黑白图案。
3.  **真实图像叠加合成图像测试**提供有趣的信息，培养对检测机行为的直觉——仅用于说明目的。

未来的工作

其他分析应包括设计和使用适合给定类型应用的替代字母，包括更大范围的像素大小和比例，尤其是具有更接近灰度值极性的字母，而不是极端最大和最小像素值。检测器调谐也应该在字母表中进行探索。