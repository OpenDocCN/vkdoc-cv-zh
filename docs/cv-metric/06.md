# 六、兴趣点检测器和特征描述符调查

“这些都是谁做的？”

——杰克·斯派洛，*加勒比海盗*

计算机视觉的许多算法依赖于定位每个图像中的兴趣点或关键点，并根据兴趣点周围的像素区域计算特征描述。这与相关、 等方法形成对比，在这些方法中，较大的矩形图案以像素间隔在图像上步进，并在每个位置测量相关性。兴趣点是*锚点*、，通常为描述符提供比例、旋转和光照不变性属性；描述符增加了更多细节和不变性属性。兴趣点组和描述符一起描述实际的对象。

然而，在特征描述中有许多方法和变化。一些方法使用不锚定在兴趣点的特征，例如在图像中较大的分割多边形结构或区域上计算的多边形形状描述符*、*。其他方法仅使用兴趣点，根本不使用特征描述符。有些方法只使用特征描述符，在图像的规则网格上计算，根本没有兴趣点。

文献中的术语各不相同*。*在一些讨论中，兴趣点可能被称为*关键点*。用来寻找兴趣点的算法可以称为*检测器*，用来描述特征的算法可以称为*描述符*。我们在这项工作中互换使用这两个术语。关键点可以被认为是由(1)兴趣点，(2)角点，(3)边缘或轮廓，以及(4)诸如斑点的较大特征或区域组成的集合；参见[图 6-1](#Fig1) 。本章概述了设计局部兴趣点检测器和特征描述符的各种方法。

![9781430259299_Fig06-01.jpg](images/9781430259299_Fig06-01.jpg)

[图 6-1](#_Fig1) 。关键点的类型，包括角点和兴趣点。(从左到右)台阶、屋顶、拐角、线或边缘、山脊或等高线、最大值区域

兴趣点调谐

对于给定的应用，什么是好的关键点？哪些最有用？哪些应该忽略？调整探测器并不简单。每个探测器都有不同的参数来调整给定图像的最佳结果，并且每个图像在照明、对比度和图像预处理方面都有不同的挑战。此外，每个检测器都被设计用于不同类别的兴趣点，并且必须相应地调整*到*以过滤结果，为特定特征描述符筛选出一组有用的良好候选。每个特征检测器将与某些描述符一起最佳工作，参见附录 a。

因此，关键点被进一步过滤以对所选择的特征描述符有用。在某些情况下，关键点不适合于产生有用的特征描述符，即使该关键点具有高分和高响应。例如，如果在关键点处计算的特征描述符产生太弱的描述符分数，则关键点和相应的描述符都应该被拒绝。OpenCV 提供了几种使用检测器的新方法，使用户能够在一个通用框架中尝试不同的检测器和描述符，并自动调整参数进行调整和剔除，如下所示:

*   **DynamicAdaptedFeatureDetector。**该类将使用 *adjusterAdapter()* 调整受支持的检测器，以仅保留有限数量的特征，并多次迭代检测器参数和重新检测特征，以试图找到最佳参数，仅保留所需数量的最佳特征。一些 OpenCV 检测器提供了一个 *adjusterAdapter()* ，一些没有；API 允许创建调整器。
*   **AdjusterAdapter。这个类实现了剔除和保留兴趣点的标准。标准可包括 KNN 最近邻匹配、检测器响应或强度、到最近的其他检测到的点的半径距离、局部区域内的关键点的数量、以及可被包括用于剔除不能为其计算良好描述符的关键点的其他度量。**
*   **金字塔适应特征检测器。**该类可用于调整不使用比例空间金字塔的检测器，适配器将创建高斯金字塔并检测金字塔上的特征。
*   **GridAdaptedFeatureDetector。**该类将图像划分为网格，并调整检测器以找到每个网格单元内的最佳特征。

兴趣点概念

兴趣点可以由各种类型的角、边和极大值形状组成，如图[图 6-1](#Fig1) 所示。一般来说，一个好的兴趣点必须容易找到，并且理想情况下计算速度很快；希望兴趣点处于计算特征描述符的良好位置。因此，兴趣点是可以围绕其描述特征的限定词或*关键点*。

目前使用的兴趣点方法背后有各种概念，因为这是一个活跃的研究领域。Mikolajczyk 等人[153]对兴趣点检测器进行了最好的分析，其中包括仿射协变兴趣点检测器的比较框架和分类，其中 *协变*指的是兴趣区域的椭圆形状，这是一种仿射可变形表示。比例不变检测器在圆形区域中被很好地表示。最大值区域和斑点检测器可以采用不规则的形状。参见[附录 A](09.html) 中几个检测器对合成兴趣点和角字母的响应。

检测器一般使用*最大值和最小值点*，比如梯度峰值和拐角；然而，边缘、脊和轮廓也被用作关键点，如图[图 6-2](#Fig2) 所示。对于所有应用，没有更好的兴趣点检测方法。Tuytelaars 和 Van Gool [529]提供的简单分类法列出了基于边缘的区域方法(EBR)、最大值或基于强度的区域方法(IBR)、和分割方法 s，以找到可能是具有高熵的斑点或特征的基于形状的区域(SBR) 。

![9781430259299_Fig06-02.jpg](images/9781430259299_Fig06-02.jpg)

[图 6-2](#_Fig2) 。候选边缘兴趣点过滤器。(从左到右)拉普拉斯算子、导数滤波器和梯度滤波器

角通常优于边或孤立的最大值点，因为角是一种结构，可用于计算特征的角度方向。兴趣点是根据颜色分量和灰度亮度计算的。许多兴趣点方法将首先在图像上应用某种高斯滤波器，然后执行梯度算子。首先使用高斯滤波器的想法是减少图像中的噪声，否则噪声会被梯度算子放大。

每个检测器定位对诸如旋转、缩放、透视、遮挡和照明等属性具有不同程度不变性的特征。关于根据标准化数据集的各种鲁棒性和不变性标准测量的兴趣点检测方法的质量和性能的评估，请参见 Mikolajczyk 和 Schmidt [144]以及 Gauglitz 等人[145]。兴趣点检测的一个关键挑战是尺度不变性，因为兴趣点在某些情况下会随着尺度发生显著变化。Lindberg [212]广泛研究了与规模无关的兴趣点方法。

仿射不变量兴趣点已经被 Mikolajcyk 和 Schmid [107，141，144，153，306，311]详细研究过。此外，Mikolajcyk 和 Schmid [519]开发了哈里斯检测器的仿射不变版本。如[541]所示，将几种兴趣点检测方法结合起来形成混合方法通常是有用的，例如，使用 Harris 或 Hessian 来定位合适的最大值区域，然后使用 Laplacian 来选择最佳尺度属性。变化是常见的，基于 Harris 和 Hessian 的检测器可以使用尺度空间方法，而局部二元检测器方法不使用尺度空间。

许多兴趣点方法背后的一些基本概念来自线性代数领域，其中像素的局部区域被视为矩阵。其他概念来自数学分析的其他领域。一些对定位兴趣点有用的关键数学公式包括:

*   **Gradient Magnitude.** This is the first derivative of the pixels in the local interest region, and assumes a direction. This is an unsigned positive number.

    ![image](images/Eqn6-01.jpg)

*   **Gradient Direction.** This is the angle or direction of the largest gradient angle from pixels in the local region in the range +π to -π.

    ![image](images/Eqn6-02.jpg)

*   **Laplacian.**This is the second derivative and can be computed directionally using any of three terms:

    ![image](images/Eqn6-03.jpg)

    ![image](images/Eqn6-04.jpg)

    ![image](images/Eqn6-05.jpg)

    然而，拉普拉斯算子忽略第三项，并计算平均方向的有符号值。

    ![image](images/Eqn6-06.jpg)

*   **黑森矩阵或黑森。** 包含描述曲面曲率的二阶偏导数的方阵。Hessian 具有几个有趣的特性，可用于本节讨论的兴趣点检测方法。
*   **最大的粗麻布。**与拉普拉斯算子一样，这是基于二阶导数的，但是 Hessian 算子使用二阶导数的所有三项来计算二阶导数作为有符号值最大的方向。
*   最小的粗麻布。这是基于二阶导数，计算为一个有符号数，并且可能是一个有用的度量，作为最大和最小 Hessian 之间的比率。
*   **黑森取向，最大值和最小值。**这是+π到-π范围内最大二阶导数的方向，是一个有符号的值，它对应的是一个没有方向的方向。最小的方向可以通过从最大值中加上或减去π/2 来计算。
*   **黑森行列式，黑森迹，高斯拉普拉斯。**这三个名字都用来描述一个矩阵的迹特征，它可以通过绝对值揭示几何尺度信息，通过值的符号揭示方向。矩阵的特征值可以用行列式来求。
*   **特征值，特征向量，特征空间。**特征属性对于理解局部像素区域矩阵中的矢量方向很重要。当一个矩阵作用于一个向量，向量方向保持不变，而符号或方向简单颠倒时，向量被认为是一个特征向量，矩阵因子被认为是特征值。因此，特征空间是空间中具有相同特征值的所有特征向量。特征属性对于兴趣点检测、定向和特征检测很有价值。例如，Turk 和 Petland [158]使用通过 PCA 减少到更小的向量集的特征向量进行人脸识别，在他们称为特征脸的方法中。

兴趣点法调查

现在，我们将简要介绍一些常见兴趣点检测器方法的算法和计算方法，包括:

*   高斯拉普拉斯算子
*   莫拉瓦茨角探测器
*   哈里斯和斯蒂芬斯角点检测
*   史和托马西角点检测器(对 Harris 方法的改进)
*   高斯人的差异(狗；对数的近似值)
*   哈里斯方法，哈里斯–海森–拉普拉斯，哈里斯–海森–仿射
*   黑森行列式
*   显著区域
*   苏珊（女子名）
*   快点，快点，阿加斯特
*   局部曲率
*   形态学兴趣点
*   MSER(在多边形形状描述符一节中讨论)
*   *注意:许多特征描述符，如 SIFT、SURF、BRISK 等，都提供了自己的检测器方法和描述符方法，参见[附录 A](09.html) 。

拉普拉斯算子和高斯拉普拉斯算子

图像处理中使用的拉普拉斯算子是一种在像素区域中寻找导数或最大变化率的方法。通常，拉普拉斯算子是使用加起来为零的标准卷积核来近似的，例如:

![9781430259299_unFig06-01.jpg](images/9781430259299_unFig06-01.jpg)

高斯(LOG) 的拉普拉斯算子简单地是在已经使用高斯平滑内核处理以聚焦边缘能量的区域上执行的拉普拉斯算子；参见 Gun [155]。

莫拉瓦茨角探测器

Moravic 角点检测算法是一种早期的角点检测方法，通过关联每个相邻像素周围的重叠碎片来测试图像中的每个像素。在任何方向上的相关性的强度揭示了关于该点的信息:当在所有方向上都有变化时发现拐角，当沿着边缘方向没有变化时发现边缘。平坦区域在任何方向都不会产生变化。使用两个重叠补片之间的 SSD 来计算相关性差异。相似性通过 SSD 中接近零的差异来衡量。这种方法是计算密集型；见莫拉瓦茨[330]。

哈里斯方法、哈里斯-斯蒂芬斯、希-托马西和黑森型检测器

Harris 或 Harris-Stephens 角点检测器 系列【156，365】提供了对 Moravic 方法的改进。Harris 方法的目标是使用局部方向导数的协方差矩阵找到特征方向的最快和最低变化的方向。将方向导数值与得分因子进行比较，以识别哪些特征是拐角，哪些是边缘，哪些可能是噪声。根据算法的公式，哈里斯方法可以提供高旋转不变性、有限强度不变性，并且在算法的一些公式中，使用尺度空间提供尺度不变性，例如哈里斯-拉普拉斯方法【519】【212】。许多哈里斯家族算法可以以计算高效的方式实现。

注意，拐角具有不明确的梯度，因为两个边缘会聚在拐角处，但是在拐角附近，可以用相对于 *x* 和 *y—* 的两个不同值来检测梯度，这是哈里斯边角侦测背后的基本思想。

哈里斯方法的变体包括:

*   Shi、Tomasi 和 Kanade 的角点检测器 [157]是对 Harris 方法的优化，仅使用最小特征值进行鉴别，从而大大简化了计算。
*   Hessian (Hessian-Affine)角点检测器[153]被设计为仿射不变的，它使用基本的 Harris 角点检测方法，但是使用一些迭代选择标准和 Hessian 矩阵将来自金字塔中几个尺度的兴趣点组合起来。
*   基本哈里斯算子还存在许多其他变体，例如哈里斯–海森–拉普拉斯【331】，其使用比例选择方法提供改进的比例不变性，以及哈里斯–海森–仿射方法【306，153】。

海森矩阵检测器和海森-拉普拉斯

海森矩阵法，也称为海森行列式(DoH) 法，用于流行的 SURF 算法【160】。它从多尺度图像集中检测感兴趣的对象，其中 Hessian 矩阵的行列式处于最大值，并且使用高斯的二阶偏导数的卷积来计算 Hessian 矩阵算子以产生梯度最大值。

DoH 方法使用积分图像来非常快速地计算高斯偏导数。因此，计算 Hessian 矩阵的性能非常好，并且精度优于许多方法。相关的 Hessian-Laplace 方法【331，306】也对局部极值进行操作，使用多尺度 Hessian 的行列式进行空间定位，使用多尺度 Laplacian 进行尺度定位。

高斯差异

高斯差(DoG) 是高斯拉普拉斯的近似，但是使用两个平滑或高斯滤波图像的差来检测局部极值特征，以更简单和更快速的方式来计算。高斯平滑的思想是去除在给定比例下不相关的噪声伪像，否则噪声伪像会被放大并导致错误的狗特征。在流行的 SIFT 方法[161]中使用了狗的特征，如后面的[图 6-15](#Fig15) 所示，采用高斯滤波图像的简单差分来识别极大值区域。

显著区域

显著区域【162，163】基于这样一个概念:与周围区域相比，一定范围内的兴趣点应表现出“不可预测”或“令人惊讶”的局部属性或熵。该方法如下进行:

1.  诸如强度或颜色的像素属性的香农熵 *E* 是在尺度空间上计算的，其中香农熵被用作不可预测性的度量。
2.  熵值位于具有最大值或峰值的尺度空间上*m。*在这个阶段，也确定了最佳尺度。
3.  为每个尺度内的每个峰值处的幅度增量计算概率密度函数(PDF) ，其中使用从距峰值期望半径的圆形窗口取得的像素值的直方图来计算 PDF。
4.  显著性是每个峰值的 *E* 和 *M* 的乘积，也与尺度有关。因此最终的检测器是显著的并且对缩放是鲁棒的。

苏珊，特拉科维奇和海德利

SUSAN 方法【164，165】依赖于基于相似亮度的局部区域分割图像特征，这产生了双峰值特征。不使用噪声过滤和梯度。如图 6-3 中的[所示，该方法使用一个中心细胞核像素值作为比较参考，与给定半径区域内的相邻像素进行比较，产生一组具有相似亮度的像素，称为单值段同化细胞核(USAN)。](#Fig3)

![9781430259299_Fig06-03.jpg](images/9781430259299_Fig06-03.jpg)

[图 6-3](#_Fig3) 。计算兴趣点的苏珊方法。图像的黑色区域是一个与 USAN 的 A、B 和 C 相交的矩形。USAN A 将被标记为边，USAN B 将被标记为角，而 USAN C 既不是边也不是角

每个 USAN 包含关于局部区域中图像的结构信息，并且可以计算每个 USAN 的大小、质心和二阶矩。SUSAN 方法可用于边缘和角点检测。拐角由圆形区域中与中心像素相似的像素比率决定:25%左右的低比率表示拐角，50%左右的高比率表示边缘。苏珊对噪音非常敏感。

Trajkovic 和 Hedly 方法【214】类似于 SUSAN，并且在 USAN 区域中的点、边缘点和角点之间进行区分。

SUSAN 对于噪声抑制也很有用，在[第 2 章](02.html)中讨论的双边滤波器【302】与 SUSAN 密切相关。苏珊使用相当大的圆形窗户；一些实现使用 37 像素半径的窗口。FAST [138]探测器也类似于 SUSAN，但是使用更小的 7×7 或 9×9 窗口，并且只使用区域中的部分像素而不是全部像素；FAST 产生一个本地二进制描述符。

快，快，吓呆了

快速方法【138】源自 SUSAN 关于双模态分割目标的方法。然而，FAST 依靠圆形图案中的一组相连像素来确定拐角。在可能的 16 个区域中，连接区域的大小通常是 9 或 10；可以选择任意一个数字，称为 FAST9 和 FAST10。众所周知，FAST 计算效率高，匹配速度快；准确度也相当不错。FAST 可以被认为是局部二进制模式 LBP 的相对物。

FAST 不是尺度空间检测器，因此，与 SIFT 中使用的尺度空间方法相比，它可以在给定尺度下产生更多的边缘检测。

如[图 6-4](#Fig4) 所示，FAST 使用二进制比较，将圆形图案中的每个像素与中心像素进行比较，使用阈值来确定像素是否小于或大于中心像素。产生的描述符按照从 0 到 15 的顺序存储为连续的位向量。此外，由于像素比较模式的循环性质，可以快速翻新并以旋转不变表示存储位向量，如本章稍后讨论的 RILBP 描述符所示；参见[图 6-11](#Fig11) 。

![9781430259299_Fig06-04.jpg](images/9781430259299_Fig06-04.jpg)

[图 6-4](#_Fig4) 。具有 16 元件圆形采样模式网格的快速检测器。注意，网格中的每个像素都与中心像素进行比较，以产生二进制值，并且每个二进制值都存储在一个位向量中

局部曲率方法

局部曲率方法【208–212】是早期检测角点的方法之一，一些局部曲率方法是第一个被认为在尺度变化下跟踪角点可靠且准确的方法【210】。局部曲率检测梯度幅度和局部表面曲率都很高的点。采用的一种方法是差分方法，在尺度空间上一起计算梯度幅度和水平曲线曲率的乘积，然后选择尺度和空间中的最大值和最小值绝对值。这里显示了该方法的一个公式。

![image](images/Eqn6-07.jpg)

根据所使用的曲率方程，可以采用基本算法的各种公式。为了改善尺度不变性和噪声敏感性，可以使用尺度空间上的方程的归一化公式来修改该方法，如下所示:

![image](images/Eqn6-08.jpg)

*其中*

![image](images/Eqn6-09.jpg)

在较大的比例下，可以检测到不太尖锐但更圆的角点，而在较低的比例下或在单位比例下，可以检测到较小区域上更尖锐的角点。Wang 和 Brady 方法 [213]也使用 2D 表面的局部曲率计算兴趣点，寻找表面曲率快速变化的拐点。

形态学兴趣区域

可以从形态学操作的流水线中确定兴趣点，例如阈值处理，然后是组合或腐蚀和膨胀，以平滑、细化、增长和收缩像素组。如果对于给定的应用正确地完成，这样的形态特征可以是比例和旋转不变的。注意，单纯的形态学运算是不够的；例如，不受约束的侵蚀左侧将缩小区域，直到它们消失。因此，必须将智能添加到形态学管线中，以控制最终的区域大小和形状。对于多边形形状描述符，形态学兴趣点定义了该特征，并且在该特征上计算了各种图像矩，如第 3 章中的[以及本章后面关于多边形形状描述符的章节中所述。](03.html)

形态学操作可用于在二值、灰度或彩色通道图像上创建感兴趣的区域。为了准备用于形态学的灰度或颜色通道图像，通常使用某种预处理，例如像素重新映射、LUT 变换或直方图均衡化。(这些方法在第 2 章的[中讨论过。)对于二值图像和二值形态学方法，二值阈值化是关键的预处理步骤。已经设计了许多二进制阈值方法，从简单的全局阈值到基于统计和结构核的局部方法。](02.html)

注意，形态学感兴趣区域方法类似于最大稳定极值区域(MSER) 特征描述符方法，这将在后面的多边形形状描述符部分中讨论，因为这两种方法都在最大值或最小值处寻找连通的像素组。然而，MSER 不使用形态学运算符。

在[图 6-5](#Fig5) 中显示了一些感兴趣区域检测的形态学和相关操作序列的例子，还可以设计出更多的例子。

![9781430259299_Fig06-05.jpg](images/9781430259299_Fig06-05.jpg)

[图 6-5](#_Fig5) 。寻找感兴趣区域的形态学方法。(从左到右)原始图像、使用 Chan Vese 方法的二进制阈值化和分段图像、骨架变换、修剪骨架变换和距离变换图像。注意，二进制阈值处理需要相当多的工作来为给定的应用正确地设置参数

特征描述符调查

本节提供了关于一些代表性特征描述符方法的调查和观察，无意直接比较描述符。在实践中，特征描述符方法经常被修改和定制。本次调查的目标是检查来自分类的每个特征描述符家族的一系列特征描述符方法，该分类在[第 5 章](05.html)中介绍:

*   局部二进制描述符
*   光谱描述符
*   基础空间描述符
*   多边形形状描述符
*   3D、4D 和体积描述符

对于关键特征描述符方法，我们在此提供一个总结分析:

*   **通用视觉分类法和 FME:** 涵盖特征属性，包括光谱、形状和模式、单变量或多变量、计算复杂性标准、数据类型、记忆标准、匹配方法、鲁棒性属性和准确性。
*   **一般鲁棒性属性:**覆盖光照、比例、透视等多种不变性属性。

这里没有在特征描述符之间进行直接的比较，但是提供了大量的参考文献，用于详细的比较和每种方法的性能信息。

局部二进制描述符

这一族描述符将特征表示为二进制位向量。为了计算特征，比较图像像素点对，并将结果作为二进制值存储在向量中。局部二进制描述符计算效率高，存储效率高，使用汉明距离匹配也效率高。一般来说，与其他方法相比，局部二进制模式方法实现了非常好的准确性和鲁棒性。

多种局部采样模式与局部二进制描述符一起用于设置成对点比较；关于局部二进制采样模式的讨论，参见[第 4 章](04.html)中关于局部二进制描述符点对模式 的章节。我们通过分析本地二进制模式(LBP) 和一些 LBP 变体来开始本地二进制描述符的这一部分，因为 LBP 本身就是一个强大的度量，并且是众所周知的。

局部二进制模式

Ojala 等人[173]于 1994 年开发了局部二元模式(LBP)，作为一种编码模式和对比度以定义纹理的新方法[169，170–173]。LBP 可以用作图像处理算子。LBP 使用围绕每个像素的局部纹理邻域的一组直方图来创建描述符或纹理模型。在这种情况下，局部纹理是特征描述符。

LBP 指标简单而强大；参见图 6-6 。我们涵盖了 LBPs 的一些细节，因为这种强大的纹理度量作为特征描述符有很多应用。此外，数百名研究人员在理论基础领域对 LBP 文献[173]进行了补充，归纳为 2D 和 3D，用作人脸检测的描述符，还应用于时空应用，如运动分析。LBP 的研究在这个时候仍然相当活跃。此外，LBP 被用作图像处理算子，并且已经被用作 SIFT 中的特征描述符改进，具有极好的结果，如本章所述。

![9781430259299_Fig06-06.jpg](images/9781430259299_Fig06-06.jpg)

[图 6-6](#_Fig6) 。(上图)图像的局部二进制模式表示，其中 LBP 用作图像处理算子，以及累积 LBP 特征的相应直方图。(底部)使用 LBP 纹理度量的分割结果。(图片由施普林格出版社提供，摘自 Matti Pietikä inen 和 Janne Heikkilä著《使用局部二进制模式的计算机视觉》[173])

在其最简单的实施例中，LBP 的目标是为像素创建二进制编码的邻域描述符。它通过使用>运算符将每个像素与其邻居进行比较，并将比较结果 *(1，0)* 编码成一个二进制数，如后面的[图 6-8](#Fig8) 所示。来自较大图像区域的 LPB 直方图甚至可以用作信号，并传递到 1D FFT 中以创建特征描述符。LBP 直方图的傅立叶频谱是旋转不变的；参见[图 6-6](#Fig6) 。然后可以将 FFT 频谱连接到 LBP 直方图上，形成多元描述符*。*

如图[图 6-6](#Fig6) 所示，LBP 被用作图像处理算子、区域分割方法和直方图特征描述符。LBP 有许多应用。可以使用各种尺寸的成形核在各种尺寸和形状上计算 LBP。 一个简单的 3x3 邻域提供了局部特征的基本覆盖，同时也使用了更宽的区域和内核形状。

假设选择 3x3 LBP 内核模式，这意味着对于 256 格直方图，将有 8 个像素比较和多达 2 个 <sup>8 个</sup>结果组合。然而，已经证明[18]基于*均匀模式*减少 8 位 256 仓直方图以仅使用 56 LBP 仓是最佳数量。选择 56 个二进制或统一模式来表示仅两个围绕圆的连续 LBP 模式，该圆由两个相连的连续段组成，而不是所有 256 个可能的模式组合[173，15]。相同的统一模式逻辑适用于尺寸大于 8 位的 LBP。因此，统一模式提供了直方图空间节省和特征比较空间优化，因为需要匹配的特征更少(56 个而不是全部 256 个)。

LPB 特征识别可以遵循图 6-7 中[所示的步骤。](#Fig7)

![9781430259299_Fig06-07.jpg](images/9781430259299_Fig06-07.jpg)

[图 6-7](#_Fig7) 。用于特征检测的 LBP 特征流。(图片由英特尔出版社授权使用，来自构建智能系统)

LBP 是通过给局部邻域中的每个像素分配一个二进制加权值，并将像素比较结果作为二进制值相加以创建一个复合 LBP 值来计算的。LBP 包含以紧凑二进制模式编码的区域信息，如[图 6-8](#Fig8) 所示，因此 LBP 是一个二进制编码的邻域纹理描述符。

![9781430259299_Fig06-08.jpg](images/9781430259299_Fig06-08.jpg)

[图 6-8](#_Fig8) 。分配的 LBP 加权值。(图片由英特尔出版社授权使用，来自构建智能系统)

假设使用 3×3 的邻域来描述 LBP 模式，可以将 3×3 的矩形区域与圆形区域进行比较，建议以 45 度的增量进行 360 度定向，如图 6-9 中的[所示。](#Fig9)

![9781430259299_Fig06-09.jpg](images/9781430259299_Fig06-09.jpg)

[图 6-9](#_Fig9) 。LBP 方向性的概念。(图片由英特尔出版社授权使用，来自构建智能系统)

计算 3x3 LBP 的步骤如图 6-10 所示。

![9781430259299_Fig06-10.jpg](images/9781430259299_Fig06-10.jpg)

[图 6-10](#_Fig10) 。LBP 邻域比较。(图片由英特尔出版社授权使用，来自构建智能系统)

邻域比较

根据允许选择用于比较的邻居的形成内核，将每个像素与其邻居进行比较。在[图 6-10](#Fig10) 中，所有的像素都用在了成形内核中(全 1)。如果邻居是中心像素的>，则二进制模式为 1，否则为 0。

直方图构成

图像区域上的每个 LBP 描述符被记录在直方图中，以描述累积纹理特征。统一的 LBP 直方图将有 56 个箱，因为只有单连接区域被编入直方图。

可选标准化

使用二的幂的二进制抽取或一些类似的算法，例如 256 ![image](images/arrow.jpg) 32，可以将最终直方图减少到更小数量的仓。此外，可以通过对直方图所用的相邻面元的范围进行阈值处理来减小直方图的大小，例如，如果面元 1 至 64 中很少或没有信息被面元化，则忽略面元 1 至 64。

描述符串联

在重叠区域上获得的多个 LBP 可以连接在一起成为更大的直方图特征描述符，以提供更好的区分。

**LBP 汇总分类法**

光谱:本地双星

特征形状:方形

特征模式:像素区域与中心像素比较

特征密度:每个像素的局部 3×3

搜索方法:滑动窗口

距离函数:汉明距离

鲁棒性:3(亮度、对比度，RILBP 的旋转)

旋转不变 LBP

为了实现旋转不变性，通过局部 LBP 的循环逐位旋转来计算旋转不变 LBP (RILBP) [173]，以找到最小二进制值。最小值 LBP 被用作旋转不变签名，并被记录在直方图仓中。RILBP 的计算效率非常高。

为了说明该方法，[图 6-11](#Fig11) 显示了三个连续 LBP 位的模式；为了使该描述符旋转不变，该值被*左移*，直到达到最小值。

![9781430259299_Fig06-11.jpg](images/9781430259299_Fig06-11.jpg)

[图 6-11](#_Fig11) 。通过使用二进制值的循环移位来寻找最小值来计算最小 LBP 的方法。LBP 描述符是旋转不变的。(图片由英特尔出版社授权使用，来自构建智能系统)

请注意，许多研究人员[171，172]正在扩展用于 LBP 计算的方法，以使用局部导数、局部中值或平均值、三元或五元比较函数以及许多其他方法，而不是最初提出的简单二元比较函数。

使用 3D LBPs 的动态纹理度量

动态纹理是当它们从一帧移动到另一帧时变形和改变的视觉特征；示例包括波浪、云、风、烟、树叶和波纹。这里讨论用于跟踪这种动态纹理的基本 LBP 的两个扩展:VLBP 和 LBP-TOP。

LBP(vlbp)t1】卷

为了创建 VLBP [175]描述符，首先通过将至少三个连续的视频帧堆叠在一起成为体积 3D 数据集来创建图像体积。接下来，以所选择的兴趣点为中心，取三个 LBP，从体积中的每个平行平面取一个 LBP，形成概要体积 LBP 或 VLBP，并且将每个正交 LBP 的直方图连接成单个动态描述符向量 VLBP。然后可以逐帧跟踪 VLPB，并重新计算 VLPB 以说明逐帧纹理的动态变化。参见图 6-12 。

![9781430259299_Fig06-12.jpg](images/9781430259299_Fig06-12.jpg)

[图 6-12](#_Fig12) 。(上)从平行平面计算 LBP 的 VLBP 方法[175]。(底部)LBP-从正交平面计算 LBP 的顶部方法[176]。(图片由英特尔出版社授权使用，来自构建智能系统)

LPB 顶部〔t0〕

LBP-TOP [176]的创建类似于 VLBP，除了不是从平行平面计算三个单独的 LBP，而是从与兴趣点相交的体积 *(x，y，z)* 中的正交平面计算，如图[图 6-12](#Fig12) 所示。3D 复合描述符与 VLBP 大小相同，包含相当于三个平面的数据。每个 LBP 平面的直方图也像 VLBP 一样被连接用于 LBP-TOP。

其他 LBP 变体

如[表 6-1](#Tab1) 所示，LBP【173】有多种变体。注意，LBP 已经被成功地用作 SIFT、SURF 的替代，并且还被用作纹理度量。

[表 6-1](#_Tab1) 。LBP 变体(来自参考文献[173])

| ULBP(统一 LBP)仅使用 56 个统一的箱，而不是使用 8 位像素可能的全部 256 个箱来创建直方图。统一模式由相连真值的连续段组成。 |
| RLBP(鲁棒 LBP)增加了+比例因子，以消除噪声引起的转换(p1 - p2 +比例) |
| CS-LBP 圆对称，向量数量是 LBP 的一半，相对像素对与 w/中心像素的比较，有助于减少 LBP 面元计数 |
| 高频傅立叶频谱描述符+ LBP |
| MLBP 中值 LBP 使用区域中值代替中心像素值进行比较 |
| M-LBP 多尺度 LBP 组合多个半径 LBP 级联 |
| 多尺度块 LBP；比较小块中的平均像素值 |
| SEMB-LBP:统计有效的 MB-LBP (SEMB-LBP)使用分布中的百分比，而不是 LBP 中 0-1 和 1-0 转换的数量，并重新定义了标准 LBP 中的统一模式。使用温和的 ADA 增强在人脸识别中有效使用[549] |
| 相邻视频帧上或体积内的体积 LBP 将直方图连接在一起以形成更长的向量 |
| LGBP(局部 Gabor 二进制模式)在特征上计算大约 40 个 Gabor 滤波器，LBP 被提取并连接以形成在更多尺度和方向上不变的长特征向量 |
| LEP 局部边缘模式:标准 LBP 之前的边缘增强(Sobel) |
| EBP 椭圆二进制模式标准 LBP，但在椭圆区域而不是圆形区域 |
| EQP 椭圆五进制模式- LBP 从二进制(2)级分辨率扩展到五进制(5)级分辨率(-2，-1，0，-1，2) |
| LTP - LBP 扩展到三进制范围，以处理接近常数的区域(-1，0，1) |
| LLBP 局部线条二元模式-计算线条模式(十字形)上的 LBP，然后使用每个 X/Y 维度的平方的 SQRT 计算幅度度量 |
| TPL BP-[X5]一起计算三个 LBP:中心像素的基本 LBP，加上相邻像素周围的两个 LBP，因此总的描述符是一组重叠的 LBP， |
| FP LBP-[X5]四个 LBP 一起计算:中心像素的基本 LBP，加上相邻像素周围的两个 LBP，因此总描述符是一组重叠的 LBP，xpl BP– |
| **注:TPLBP 和 FPLBP 方法可以扩展到特征空间的 3，4，n 维。大矢量。* |
| TBP 三元(3)二进制模式，类似于 LBP，但是使用三级编码(1，0，-1)来有效地处理等强度或接近等强度的区域，使用两个二进制模式(一个用于+和一个用于-)连接在一起 |
| ETLP -拉长的三元局部模式(椭圆+三元[5]水平 |
| FLBP -模糊 LBP，其中每个像素贡献于一个以上的面元 |
| PLBP 概率 LBP 计算每个像素和中心像素之间的差异大小(更多计算，更多存储) |
| SILTP 尺度不变 LBP 使用 3 部分分段比较函数来补偿和支持强度尺度不变，以处理图像噪声 |
| tLBP -转换编码的 LBP，其中 LBP 中相邻像素之间的编码是顺时针的 |
| dLBP——方向编码 LBP——类似于 CSLBP，但是存储最大值和比较信息(这个像素是大于、小于还是最大值) |
| 与所有九个内核邻居的平均值相比，CBP 中心二进制模式中心像素 |
| S-LBP 语义 LBP 在比色精确空间(如 CIE LAB 等)中完成。)在均匀连接的 LBP 圆形图案上寻找主方向+弧长，用于形成作为描述符的 2D 直方图。 |
| 从中心像素到相邻像素的颜色距离的 F-LBP -傅立叶谱 |
| LDP -局部导数模式(高阶导数)-基本 |
| LBP 是一阶方向导数，它与连接成直方图的其他 n 阶方向导数相结合，当然对噪声更敏感 |
| BLBP-Baysian LBP——LBP 和 LTP 的组合，使用 bay sian 方法向更健壮的模式优化 |
| 用于 LBP 比较的 FLS 滤波、标记和统计框架将 LBP 或任何类型的直方图描述符翻译成允许有效比较的向量空间“贝叶斯局部二元模式纹理描述符” |
| MB-LBP 多尺度块 LBP -比较小块中的平均像素值，而不是单个像素，因此 3×3 像素 PBL 将变成 9×9 块 LBP，其中每个块是 3×3 区域。通过缩放图像并在每个缩放比例下创建渲染，以及创建每个缩放图像的直方图并将直方图连接在一起，来计算直方图。 |
| 基于 PM-LBP 金字塔的多结构 LBP -使用 5 个模板来提取不同级别的不同结构信息 1)高斯滤波器，4 个各向异性滤波器来检测梯度方向 |
| 多尺度选择局部二值特征 |
| RILBP -旋转不变 LBP 旋转容器(二进制 LBP 值)直到达到最大值，最大值被认为是旋转不变的。这是 LBP 旋转不变性最广泛使用的方法。 |
| 用于旋转不变性的 ALBP 自适应 LBP，不是像在标准 LBP 方法中那样移动到最大值，而是找到主向量方向并将向量移动到主向量方向 |
| LBPV -局部二元模式方差-使用局部区域方差来加权像素对 LBP 的贡献，将特征与主方向对齐，确定非主导模式并减少其贡献。 |
| OCL BP——对立颜色 LBP——共同描述颜色和纹理——转换每个颜色通道 LBP，然后通过使用一种颜色作为中心像素和另一种颜色作为邻域来转换对立颜色通道 LBP，因此总共计算 9 个直方图，但是仅使用大小 |
| 每种颜色的 SDMCLBP - SDM (co -LBP)图像用作生成出现矩阵的基础，然后从图像中提取 Haralick 特征以形成多维特征空间。 |
| MSCLBP -多尺度颜色局部二进制模式(将 6 个直方图连接在一起)-使用颜色空间组件 |
| 色调-LBP 对手-LBP(所有 3 个通道)无分量-LBP(在 2 个通道上计算)，光强度变化，强度偏移，强度变化+偏移，颜色变化颜色偏移，定义六个新的操作符:变换的颜色 LBP(RGB)[减去平均值，除以标准差]，对手 LBP，无分量 LBP，色调 LBP，RGB-LBP，nRGB-LBP [x8]“用于视觉对象类别识别的多尺度颜色局部二进制模式”，朱超，查尔斯-埃德蒙比肖，陈黎明 |
| 3D 直方图-3D rgblbp[最佳性能，高内存占用量] -使用统一模式最小化在 RGB-LBP 彩色图像空间上计算的 3D 直方图，每种颜色产生 10 个级别或模式，产生大的描述符:10×10×10 = 1000 个描述符。 |

人口普查

人口普查转换[177]基本上是一个 LBP，和人口普查一样，它使用简单的大于和小于查询来计算和比较结果。Census 记录内核中的中心像素与内核区域中的其他像素之间的像素比较结果。它采用比较和可能的阈值，并将结果存储在二进制向量中。Census 变换还使用了一个称为*等级值标量*的特性，等级值标量是小于中心像素的像素值的数量。因此，普查描述符同时使用了位向量和等级标量。

**普查汇总远景分类法**

光谱:局部二元+标量排序

特征形状:方形

特征模式:像素区域与中心像素比较

特征密度:每个像素的局部 3×3

搜索方法:滑动窗口

距离函数:汉明距离

鲁棒性:2(亮度、对比度)

修改普查变换

修改的普查变换(MCT)【205】寻求提高原始普查变换的局部二进制模式鲁棒性。该方法使用 3×3 邻域中的每个像素与 3×3 邻域中所有像素的平均强度的有序比较，生成二进制描述符位向量，其位值被设置为低于所有像素的平均强度的强度。位向量可用于使用每个像素的 MCT 值来创建 MCT 图像。参见[图 6-13](#Fig13) 。

![9781430259299_Fig06-13.jpg](images/9781430259299_Fig06-13.jpg)

[图 6-13](#_Fig13) 。3x3 MCT 的 511 种可能的二进制模式中的 15 种的缩写集。模式集中的结构核是 MCT 特征空间比较的基础集。结构核形成一个模式基集，它可以表示线、边、角、鞍点、半圆和其他模式

如图[图 6-13](#Fig13) 所示，MCT 依赖于全套可能的 3×3 二进制模式(2<sup>9</sup>1 或 511 种变化),并使用这些作为二进制模式的核心索引作为 MCT 输出，因为每个二进制模式本身是一个独特的签名，具有很高的识别性。MCT 的最终结果类似于非线性滤波器，它将输出分配给内核索引中的 2 个<sup>9</sup>1 模式中的任何一个。结果表明，对于某些类型的对象识别，MCT 结果优于基本 CT[205]。

简介

如[第 4 章](04.html)所述，在局部二进制描述符点对模式一节中，以及在[图 4-11](04.html#Fig11) 中所示，BRIEF [132，133]描述符在局部 31x31 区域使用 256 个点对的随机分布模式进行二进制比较，以创建描述符。BRIEF 的一个关键思想是在局部区域内选择随机的点对进行比较。

BRIEF 是一种局部二进制描述符，在机器人应用中取得了非常好的准确性和性能[203]。BRIEF 和 ORB 关系密切；ORB 是 BRIEF 的面向版本，ORB 描述符点对模式的构建也不同于 BRIEF。众所周知，BRIEF 不能容忍旋转。

**简要概述分类法**

光谱:本地双星

特征形状:以兴趣点为中心的正方形

特征模式:随机局部像素点对比较

特征密度:兴趣点局部 31x31

搜索方法:滑动窗口

距离函数:汉明距离

鲁棒性:2(亮度、对比度)

圆球

ORB [134]是 Oriented BRIEF 的首字母缩写词，顾名思义，ORB 基于 BRIEF，并通过使用 FAST9 确定角点方向，然后使用 Harris 角点度量对关键点进行排序，从而为 BRIEF 添加旋转不变性；使用 Rosin 的方法【61】通过强度质心来细化角点方向。FAST、Harris 和 Rosin 处理是在以因子 1.4 缩放的图像金字塔的每一级上完成的，而不是普通的八度音阶金字塔缩放方法。ORB 在[第 4 章](04.html)局部二进制描述符点对模式一节中详细讨论，并在[图 4-11](04.html#Fig11) 中说明。

应该注意的是，ORB 是一个经过高度优化和精心设计的描述符，因为 ORB 作者对计算速度、内存占用和准确性非常感兴趣。本节中调查的许多描述符主要是研究项目，较少优先考虑实际问题，但 ORB 侧重于优化和实际问题。

与 BRIEF 相比，ORB 提供了一种改进的训练方法，用于为成对像素点采样创建局部二进制模式。BRIEF 在 31x31 窗口中使用随机点对，而 ORB 通过训练步骤在窗口中寻找具有高方差和均值~ .5 的不相关点对，这被证明效果更好。有关可视化球体图案的详细信息，参见[图 4-11](04.html#Fig11) 。

对于对应搜索，ORB 使用多探针本地敏感哈希(MP-LSH)， ，当匹配失败时，在相邻桶中搜索匹配，而不是重新导航哈希树。作者报告说 MP-LSH 需要更少的哈希表，从而导致更低的内存占用。MP-LSH 也比 BRIEF 产生更统一的哈希桶大小。因为 ORB 是基于点对比较的二进制描述符，所以汉明距离用于对应。

据报道 ORB 比 SURF 快一个数量级，比 SIFT 快两个数量级，精度相当。作者在 Pascal 数据集[134]上对超过 24 幅 NTSC 分辨率图像的测试中提供了令人印象深刻的性能结果。

<colgroup><col width="35%"> <col width="35%"> <col width="30%"></colgroup> 
| 

宝珠 <sup>[*](#fn1)</sup>

 | 

冲浪

 | 

撒

 |
| --- | --- | --- |
| 15.3 毫秒 | 217.3 毫秒 | 5228.7 毫秒 |

*<sup>[*](#_fn1)</sup> 测量结果见参考文献【134】。*

**ORB 汇总分类法**

光谱:局部二元+方向向量

特征形状:方形

特征模式:经过训练的局部像素点对比较

特征密度:兴趣点局部 31x31

搜索方法:滑动窗口

距离函数:汉明距离

鲁棒性:3(亮度、对比度、旋转，*有限比例)

轻快

BRISK [131，143]是一种局部二进制方法，使用一个圆对称的模式区域形状，总共 60 个点对作为线段排列在四个同心环中，如图[图 4-10](04.html#Fig10) 所示，在[第 4 章](04.html)中有详细描述。该方法使用短线段和长线段的点对，这提供了尺度不变性的度量，因为短线段可以更好地映射为精细分辨率，而长线段可以更好地映射为粗糙分辨率。

brisk 算法是独一无二的，它使用了一种适用于尺度空间的新型快速检测器，据报道，与 SURF 相比，其性能提高了一个数量级，精确度相当。该算法的主要计算步骤如下:

*   在比例空间中使用基于快速或惊骇的选择来检测关键点。
*   在每个像素采样点执行高斯平滑以获得点值。
*   创建三组线对:长线对、短线对和未使用的线对(未使用的线对不在长线对或短线对集中；参见[图 4-12](04.html#Fig12) 。
*   计算长对之间的梯度，对梯度求和以确定方向。
*   使用渐变方向来调整和旋转短对。
*   从短对逐点比较创建二进制描述符。

**快速汇总分类法**

光谱:局部二元+方向向量

特征形状:方形

特征模式:经过训练的局部像素点对比较

特征密度:快速兴趣点的局部 31x31

搜索方法:滑动窗口

距离函数:汉明距离

鲁棒性:4(亮度、对比度、旋转、比例)

怪胎

FREAK [130]使用一种新颖的受视网膜中央凹启发的多分辨率像素对采样形状，通过训练的像素对来模拟人眼的设计，作为一种由粗到细的描述符，分辨率在中心最高，向外围进一步降低，如图[图 4-9](04.html#Fig9) 所示。在作者看来，FREAK 展示了许多更好的特性描述设计方法；它集性能、准确性和稳健性于一身。请注意，FREAK 计算速度很快，与其他本地二进制描述符(如 LBP、Census、BRISK、BRIEF 和 ORB)相比具有良好的区分度，并且与 SIFT 相比表现良好。

畸形特征训练过程包括根据训练数据确定二元比较的点对，如图[图 4-9](04.html#Fig9) 所示。训练方法允许通过加权和选择具有高方差和低相关性的样本点来构建一系列描述符采样模式和形状。首先使用可变大小的半径近似从局部区域平滑每个采样点，以在圆形区域上创建高斯核。圆形区域被设计成与相邻区域有一些重叠，这提高了精确度。

因此，特征描述符被设计成包含存储在向量中的像素对二进制比较的四组 16 字节粗到细描述符的粗到细级联。前 16 个字节是级联中最高分辨率集的粗略值，通常足以找到 90%的匹配特征并丢弃不匹配的特征。FREAK 使用来自 31×31 像素面片采样区域的 45 个点对作为描述符。

通过将点对比较存储在分辨率递减的模式向量的四个级联中，匹配过程从粗略进行到精细，模仿人类视觉系统的扫视搜索机制，当在匹配阶段有早期成功或拒绝时，允许加速匹配性能。总之，怪胎方法非常有效。

**畸形汇总分类法**

光谱:局部二元由粗到细+方向向量

特征形状:方形

特征模式:31×31 区域像素点对比较

特征密度:兴趣点稀疏局部

搜索方法:在刻度空间上滑动窗口

距离函数:汉明距离

鲁棒性:6(亮度、对比度、旋转、比例、视点、模糊)

光谱描述符

与本地二进制描述符组相比，谱描述符组通常涉及更密集的计算和算法，通常需要浮点计算，并且可能消耗相当多的存储器。在这种分类和讨论中，*光谱*简单地是可以测量或计算的量，例如光强度、颜色、局部区域梯度、局部区域统计特征和矩、表面法线以及分类数据，例如任何光谱类型的 2D 或 3D 直方图，例如局部梯度方向的直方图。本节讨论的许多方法都使用局部梯度信息。

如前一节所述，局部二进制描述符是一种尝试，旨在摆脱成本更高的频谱方法，以降低功耗并提高性能。在许多情况下，局部二进制描述符提供了与更多计算密集型光谱方法相似的准确性和鲁棒性。

筛选

Lowe [161，178]开发的尺度不变特征变换(SIFT)是用于寻找兴趣点和特征描述符的最著名的方法，提供了对尺度、旋转、照明、仿射失真、透视和相似变换以及噪声的不变性。Lowe 证明，通过一起使用几个 SIFT 描述符来描述一个对象，对遮挡和杂乱有额外的不变性，因为如果一些描述符被遮挡，其他描述符将被发现[161]。我们在这里提供一些关于 SIFT 的细节，因为它设计得很好，而且众所周知。

SIFT 通常用作比较其他视觉方法的基准。作者 David Lowe 的原始 SIFT 研究论文最初几次被主要计算机视觉期刊拒绝发表，结果 Lowe 申请了专利，并采取了不同的方向。据 Lowe 说，“那时我已经决定计算机视觉社区不感兴趣，所以我申请了一项专利，并打算促进它的工业应用。”最终，SIFT 论文发表了，并成为计算机视觉史上被引用最多的文章！

SIFT 是一个完整的算法和处理流水线，既包括兴趣点，也包括特征描述符方法。SIFT 包括在尺度空间中选择高斯(DoG)最大值中心环绕圆形加权差兴趣点以创建尺度不变关键点的阶段(主要创新)，如图[图 6-14](#Fig14) 所示。围绕尺度不变关键点计算特征描述符。特征提取步骤包括在以几个尺度上导出的最大响应兴趣点为中心的选定位置处，使用 GLOH 变化，从局部梯度幅度到笛卡尔矩形仓或对数极坐标仓，计算梯度的分仓直方图(HOG) 结构。

![9781430259299_Fig06-14.jpg](images/9781430259299_Fig06-14.jpg)

[图 6-14](#_Fig14) 。(顶部)通过与高斯核卷积获得的一组高斯图像和相应的一组狗图像。(底部)以八度音程为单位。DOG 函数近似于对数梯度或可调旁路滤波器。将特征与缩放的倍频程集中的各种图像进行匹配产生了缩放不变特征

描述符被馈送到匹配流水线中，以找到最接近匹配和第二最接近匹配之间的最近距离比率度量，该度量一起考虑主匹配和次匹配，并且如果它们太相似，则拒绝两个匹配，假设一个或另一个可能是假匹配。局部梯度幅度由与金字塔标度级别成比例的强度值加权，然后装入局部直方图中。总之，SIFT 是一个经过深思熟虑和精心设计的多尺度局部特征描述符。

彩色图像 SIFT 的一种变体被称为 CSIFT [179]。

下面是基本的 SIFT 描述符处理流程(注意:匹配阶段被省略，因为本章关注的是特征描述符和相关度量):

创建一个比例空间金字塔

八度标度 ***n/2*** 图像金字塔与标度空间中的高斯滤波图像一起使用。高斯模糊量与尺度成正比，然后用高斯差分(DoG)方法捕捉金字塔中相邻图像中的兴趣点极值极大值和极小值。图像金字塔包含五个级别。SIFT 还使用双比例第一金字塔等级，使用两倍于原始放大倍数的像素来帮助保留精细细节。这项技术将稳定关键点的数量增加了大约四倍，这是非常显著的。否则，计算原始图像上的高斯模糊会产生丢弃高频细节的效果。参见[图 6-15](#Fig15) 和[图 6-16](#Fig16) 。

![9781430259299_Fig06-15.jpg](images/9781430259299_Fig06-15.jpg)

[图 6-15](#_Fig15) 。SIFT DoG 作为金字塔尺度中高斯滤波图像之间的简单算术差

![9781430259299_Fig06-16.jpg](images/9781430259299_Fig06-16.jpg)

[图 6-16](#_Fig16) 。使用尺度不变极值检测的 SIFT 兴趣点或关键点检测，其中中间八度音阶中的暗像素在 3x3x3 区域内与其相邻八度音阶中的 26 个邻居进行比较，这包括局部尺度上的 8 个邻居加上相邻八度音阶(向上或向下)上的 9 个邻居

确定比例不变的兴趣点

如[图 6-16](#Fig16) 所示，候选兴趣点是从金字塔中三个相邻八度区的狗图像的 26 个相邻像素之间的局部最大值或最小值中选择的。换句话说，兴趣点是尺度不变的。

通过分析局部 26 像素邻域内的局部对比度、局部噪声和局部边缘存在，进一步限定所选兴趣点以实现不变性。除了原始方法中的那些方法之外，还可以使用各种方法，并且几种技术一起使用来选择最佳兴趣点，包括小区域上的局部曲率插值，以及平衡边缘响应以包括主要和次要边缘。关键点在尺度和空间上被定位到亚像素精度。因此，完整的兴趣点对于比例是不变的。

创建特征描述符

围绕所选兴趣点的大小为 16×16 像素的局部区域或小块是特征向量的基础。计算 16×16 小块中的局部梯度的幅度和梯度方向，并将其存储在 HOG(梯度直方图)特征向量中，以循环对称的方式对其进行加权，以降低远离中心兴趣点的点的权重，使用高斯加权函数围绕该中心兴趣点计算 HOG。

如[图 6-17](#Fig17) 所示，4x4 梯度宁滨方法允许梯度在描述符中四处移动并组合在一起，从而为可能改变局部梯度位置的各种几何失真提供不变性，类似于人类视觉系统对视网膜上梯度 3D 位置的处理【248】。SIFT HOG 对缩放、对比度和旋转具有合理的不变性。使用三线性插值用梯度信息填充直方图仓，并归一化以提供照明和对比度不变性。

![9781430259299_Fig06-17.jpg](images/9781430259299_Fig06-17.jpg)

[图 6-17](#_Fig17) 。(左侧和中间)梯度幅度和方向被分入 SIFT HOG 的直方图中。(右)GLOH 描述符

还可以使用称为梯度位置和方向直方图(GLOH)的 HOG 描述符的变体来执行 SIFT，其使用对数极坐标直方图格式而不是笛卡尔 HOG 格式；参见[图 6-17](#Fig17) 。GLOH 对数极坐标直方图的计算很简单，如下图所示，从用于笛卡尔 HOG 直方图的笛卡尔坐标，其中矢量幅度是斜边，角度是反正切。

![9781430259299_unFig06-02.jpg](images/9781430259299_unFig06-02.jpg)

如图[图 6-17](#Fig17) 所示，SIFT HOG 和 GLOH 本质上是 3D 直方图，在这种情况下直方图 bin 值是梯度幅度和方向。因此，描述符向量大小为 4x4x8=128 字节。4×4 描述符(中间图像)是左图像中每个 4×4 组的组合的八向梯度方向和幅度的一组直方图，在笛卡尔坐标中，而 GLOH 梯度幅度和方向在极坐标中被分箱，在大宁滨区域上被间隔成 17 个箱。SIFT-HOG(左图)还使用一个加权因子，随着距中心距离的增加，以循环对称的方式平滑地减少梯度信息的贡献。

SIFT 总体计算复杂度 较高【180】，如[表 6-2](#Tab2) 所示。注意，由于用于方向分配和描述符生成的所有局部区域梯度计算，包括具有三线性插值的直方图宁滨，特征描述是计算最密集的。SIFT 中开发的梯度方向直方图是一项关键创新，提供了强大的鲁棒性。

[表 6-2](#_Tab2) 。SIFT 计算复杂性(摘自 Vinukonda [180])

<colgroup><col width="45%"> <col width="25%"> <col width="30%"></colgroup> 
| 

**筛选流水线步骤**

 | 

**复杂度**

 | 

**操作次数**

 |
| 高斯模糊金字塔 | *![image](images/round.jpg)N*<sup>2</sup>T5】U<sup>2</sup>*s* | 4*N*T2 2T4 WT6】2T8】s |
| 高斯金字塔的差异 | *![image](images/round.jpg) sN * <sup> 2</sup> | 4*N*T2 2T4 s |
| 尺度空间极值检测 | *![image](images/round.jpg) sN * <sup> 2</sup> | 104 *sN* <sup>2</sup> |
| 关键点检测 | *![image](images/round.jpg)【sn】* | 100 |
| 方向分配 | ![image](images/round.jpg)【sn】<sup>(1-*)*</sup> | 48*sN*T2【2】T3】 |
| 描述符生成 | ![image](images/round.jpg)(*x*<sup>【2】</sup>*n*<sup>*ab*+</sup> | *![image](images/round.jpg)*【1520】*【x】*<sup>【2】</sup>(*+**】*** |

SIFT 的结果特征向量是 128 字节。但是，有一些方法可以降低维数并改变描述符，这将在下面讨论。

**筛选汇总分类法**

光谱:局部梯度幅度+方向

特征形状:方形，圆形加权

特征模式:圆形对称加权的正方形

特征密度:在局部 16x16 狗兴趣点处稀疏

搜索方法:在刻度空间上滑动窗口

距离函数:欧几里德距离(*或带有 RootSIFT 改进的 Hellinger 距离)

鲁棒性:6(亮度、对比度、旋转、缩放、仿射变换、噪声)

SIFT-PCA

Ke 和 Suthankar [183]开发的 SIFT-PCA 方法使用主成分分析(PCA)得出的替代特征向量，基于归一化梯度补丁，而不是 SIFT 中使用的加权平滑梯度直方图。此外，SIFT-PCA 将 SIFT 描述符的维数减少到更小的元素集。最初报道 SIFT 使用 128 个向量，但是使用 SIFT-PCA，向量减少到更小的数目，例如 20 或 36。

SIFT-PCA 的基本步骤如下:

1.  基于来自局部 41×41 图像碎片的梯度构建特征空间，产生 3042 个元素向量；这个向量是普通 SIFT 流水线的结果。
2.  计算补片的局部图像梯度。
3.  使用对每个特征向量的协方差矩阵的 PCA，从特征空间创建缩减尺寸的特征向量。

SIFT-PCA 在对图像扭曲的鲁棒性方面比 SIFT 有所改进，并且特征向量的尺寸越小，匹配速度越快。作者指出，虽然 PCA 在应用于图像补片特征时通常不是最佳的，但该方法对于在尺度空间中定向和定位的 SIFT 风格梯度补片工作良好[183]。

SIFT

梯度位置和方向直方图(GLOH) [144]方法使用极坐标和径向分布仓，而不是 SIFT 使用的笛卡尔坐标风格直方图宁滨方法。据报道，它为一些真实情况数据集提供了比 SIFT 和其他描述符更高的准确性和鲁棒性[144]。如图 6-17 中的[所示，GLOH 使用一组 17 个径向分布的面元对极坐标中的梯度信息求和，产生一个 272 面元的直方图。中央纸盒不是定向的。使用 PCA 减小描述符的大小。GLOH 已经被用来改造 SIFT。](#Fig17)

筛-筛改装

具有错误恢复能力的尺度不变特征检测器(SIFER)【224】方法提供了标准 SIFT 流水线的替代方案，据报道，对于某些标准，可测量的精度提高高达 20%。然而，准确性是有代价的，因为性能大约是 SIFT 的两倍。SIFER 的主要贡献包括使用更高粒度的图像金字塔表示来改进尺度空间处理，以及使用余弦调制高斯滤波器进行更好的尺度调谐滤波。

该方法的主要步骤如[表 6-3](#Tab3) 所示。使用余弦调制高斯(CMG) 滤波器模糊尺度空间金字塔，这允许八度音阶的每个尺度被细分为六个尺度，因此结果是更好的尺度精度。

[表 6-3](#_Tab3) 。SIFT、SURF 和 SIFER 流水线的比较(改编自[224])

![Table6-3.jpg](images/Table6-3.jpg)

由于 CMG 的性能不好，SIFER 提供了一种快速近似方法，可以提供合理的精度。特别注意图像尺度和滤波器尺度以增加检测的准确性，因此余弦被用作高斯滤波器的带通滤波器以尽可能地匹配尺度，在尺度空间上调谐滤波器组中的滤波器，对于每个倍频程的六个尺度中的每一个具有良好匹配的滤波器。CMG 提供了比 SIFT 高斯二阶导数方法更好的错误恢复能力。

SIFT CS-LBP 改装

SIFT-CSLBP 改进方法[202，173]通过用计算效率更高的 LBP 算子代替 SIFT 梯度计算，并通过创建相似的直方图面元化的方向特征向量，组合了 SIFT 和中心对称 LBP (CS-LBP) 的最佳属性。LBP 的创建和匹配在计算上都比 SIFT 描述符简单。

CS-LBP 描述符首先将自适应噪声去除滤波器(Weiner 滤波器是本工作中使用的一种滤波器)*应用于自适应噪声去除的局部补丁，这保持了局部对比度。CS-LBP 不是计算所有 256 个可能的 8 位局部二进制模式，而是只计算 16 个中心对称模式来降低维数，如图[图 6-18](#Fig18) 所示。*

 *![9781430259299_Fig06-18.jpg](images/9781430259299_Fig06-18.jpg)

[图 6-18](#_Fig18) 。用于降维的 CS-LBP 采样模式

不是使用 SIFT 循环加权函数来加权直方图仓，而是不使用加权，这减少了计算。像 SIFT 一样，CS-LBP 宁滨方法使用 4×4 区域笛卡尔网格；使用更简单的宁滨双线性插值，而不是 SIFT 中的三线性插值。总体而言，CS-LCP 改造方法简化了 SIFT 计算流水线，并以相当的精度提高了性能；据报道，某些数据集的准确性更高。参见[表 6-4](#Tab4) 。

[表 6-4](#_Tab4) 。SIFT 和 CSLBP 改造性能(根据参考文献[202])

![Table6-4.jpg](images/Table6-4.jpg)

RootSIFT 改造

RootSift 方法[174]为 Sift 流水线提供了一组简单、关键的增强功能，从而提高了计算性能并略微提高了准确性，如下所示:

*   **Hellinger distance:**RootSIFT 使用 helling er distance 代替欧氏距离进行对应，对 SIFT 对象检索流水线进行了简单的性能优化。SIFT 流水线的所有其他部分保持不变；仍然采用 k-means 来构建特征向量集，并且对于更大的特征向量集，仍然可以使用其他近似最近邻方法。作者声称，对 SIFT 代码进行简单修改以执行 Hellinger 距离优化而不是欧几里德距离可以是对代码的一组简单的单行改变。RootSIFT 中的其他增强是可选的，将在下面讨论。
*   **特征增强:**这种方法提高了总召回率。由特科特和劳[332]开发，应用于特征。来自数据库中相同对象的相似视图的特征向量或视觉单词被关联成用于在相似特征之间寻找对应关系的图，而不是仅仅依赖于单个特征。
*   **判别查询扩展(DQE):** 该方法在训练时增加查询扩展。通过在线性 SVM 中使用正的和负的训练数据，将邻近区域内的特征向量平均成对数据库中的重新查询有用的新特征向量，从而将这些特征向量相关联；参考文献[174]报道了更好的一致性。

通过将上述三项创新结合到 SIFT 流水线中，性能、准确性和鲁棒性都得到了显著提高。

责难和明星

中心环绕极值或 CenSurE [ 185，184，145]方法提供了真正的多尺度描述符，在金字塔的所有尺度上使用全空间分辨率来创建特征向量，这与 SIFT 和 SURF 形成对比，SIFT 和 SURF 在二次采样像素上找到极值，这在较大尺度上损害了精度。CenSurE 类似于 SIFT 和 SURF，但是一些关键的区别总结在[表 6-5](#Tab5) 中。对 OpenCV 中最初的 CenSurE 算法进行了修改，该算法被命名为 STAR descriptor。

[表 6-5](#_Tab5) 。CenSurE 与 SIFT 和 SURF 之间的主要区别(改编自参考文献[185])

![Table6-5.jpg](images/Table6-5.jpg)

作者非常关注创建计算高效、内存高效、性能和准确性高的方法[185]。CenSurE 定义了一种寻找极值的优化方法，首先在所有尺度上使用拉普拉斯算子，然后使用 Harris 方法进行过滤，以丢弃响应较弱的角点。

与 SIFT 和 SURF 相比，CenSurE 的主要创新如下:

1.  Use of bilevel center-surround filters, as shown in [Figure 6-19](#Fig19), including Difference of Boxes (DoB), Difference of Octagons (DoO) and Difference of Hexagons (DoH) filters, octagons and hexagons are more rotationally invariant than boxes. DoB is computationally simple and may be computed with integral images vs. the Gaussian scale space method of SIFT. The DoO and DoH filters are also computed quickly using a modified integral image method. Circle is the desired shape, but more computationally expensive.

    ![9781430259299_Fig06-19.jpg](images/9781430259299_Fig06-19.jpg)

    [图 6-19](#_Fig19) 。使用二进制核值 1 和-1 对拉普拉斯算子进行两级中心环绕滤波器形状近似，这可以使用带符号加法而不是乘法来有效地实现。注意，圆形是期望的形状，但是其他形状使用积分图像更容易计算，尤其是矩形方法

2.  为了找到极值，使用 3x3x3 邻域，在每个像素处使用七级尺度的过滤器空间来计算 DoB 过滤器。尺度空间搜索使用非八度音程边界上的中心环绕类 Haar 特征来组成，其中滤波器块大小[1，2，3，4，5，6，7]覆盖[1 和 7]之间的 2.5 个八度音程，产生五个滤波器。这种音阶排列提供了比八度音阶更多的辨别力。应用阈值来消除每个级别的弱滤波器响应，因为弱响应可能不会在其他级别重复。
3.  使用重叠积分图像区域的组合来快速计算非矩形过滤器形状，例如八边形和六边形；注意八边形和六边形避免了矩形区域造成的伪影，增加了旋转不变性；参见图 6-19 。
4.  使用 SURF 方法的快速修改版本应用责难滤波器，称为修改的直立 SURF(MU-SURF)【188，189】，稍后与其他 SURF 变型一起讨论，其通过使用 HAAR 响应的重叠子区域的扩展集合来特别注意描述符中的框的边界效应。

**责难汇总分类法**

光谱:中心环绕形状的二级过滤器

特征形状:八边形、圆形、方形、六边形

特征模式:过滤器形状遮罩，24x24 最大区域

特征密度:局部兴趣点稀疏

搜索方法:尺度空间上的密集滑动窗口

距离函数:欧几里德距离

鲁棒性:5(亮度、对比度、旋转、缩放、仿射变换)

关联模板

用于特征描述和检测的最广为人知和显而易见的方法之一是简单地拍摄完整特征的图像，并通过直接像素比较来搜索它——这被称为*相关性*。相关包括使包含第一像素区域模板的滑动窗口跨过第二图像区域模板，并使用诸如差和(SAD) 的方法执行简单的逐像素区域比较；得到的分数就是相关性。

由于图像照明可能变化，典型地，相关模板和目标图像首先被强度归一化，典型地通过减去平均值并除以标准偏差；然而，也可以使用对比度调整和 LUT 变换。相关通常在矩形窗口的空间域中实现，但也可以与频域方法一起使用[4，9]。

相关性用于基于视频的目标跟踪应用中，其中在小的相邻区域上从帧到帧的正交运动的平移占主导地位。例如，视频运动编码器使用相关性找到图像内的区域或块的位移，因为视频中的小块运动通常与笛卡尔轴正交，并且很好地映射到使用相关性找到的简单位移。根据所使用的图像和方法，相关可以提供 1/4 到 1/20 像素之间的亚像素精度；参见参考文献[151]。对于视频编码应用，相关性允许有效地编码和精确地计算相应块的运动矢量位移。相关性服从固定功能硬件加速。

相关的变化包括互相关(滑动点积)归一化互相关(NCC) 、零均值归一化互相关(ZNCC) 和纹理自相关(TAC)。

一般来说，对于恒定大小的单空间模式区域的正交运动，相关是一个好的检测器。它提供子像素精度，对照明具有有限的鲁棒性和精度，但对旋转或缩放几乎没有鲁棒性。然而，为了克服这些鲁棒性问题，可以在图形处理器中并行使用多个纹理采样器来快速缩放和旋转相关模板，从而加速尺度空间上的相关以及各种几何平移。然后，相关匹配可以通过 SIMD SAD 指令或者使用视频编码引擎中的快速固定函数相关器来完成。

相关性如图 6-20 中的[所示。](#Fig20)

![9781430259299_Fig06-20.jpg](images/9781430259299_Fig06-20.jpg)

[图 6-20](#_Fig20) 。使用扫过矩形区域的三角形模板区域的数字相关的简化模型。最佳相关性显示在最高点的位置

**关联摘要分类法**

光谱:相关性

特征形状:方形、矩形

特征模式:密集

特征密度:可变大小的内核

搜索方法:密集滑动窗口

距离功能:SSD 典型，其他可能

鲁棒性:1(照明，亚像素精度)

哈尔特征

HAAR-like 特征[4，9]通过 Viola Jones [186]算法在计算机视觉领域得到推广。哈尔特征是基于矩形模式的特定集合，如图[图 6-21](#Fig21) 所示，其近似基本哈尔小波，其中每个哈尔特征由矩形内像素的平均像素值组成。这是使用积分图像有效计算的。

![9781430259299_Fig06-21.jpg](images/9781430259299_Fig06-21.jpg)

[图 6-21](#_Fig21) 。类哈尔特征的例子

通过使用矩形要素中的平均像素值，目的是在相邻区域中找到一组小模式，其中较亮或较暗的区域相邻可能会显示一个要素-例如，较亮的脸颊紧挨着较暗的眼窝。然而，HAAR 特征有缺点，因为矩形本质上在超过 15 度时不是旋转不变的。此外，矩形内像素值的整合破坏了精细的细节。

根据要检测的特征的类型，例如眼睛，选择一组特定的 HAAR 特征来显示眼睛/脸颊细节和眼睛/鼻子细节。例如，具有两个矩形的 HAAR 图案可用于检测边缘，而具有三个矩形的图案可用于线条，具有一个插入矩形或四个矩形的图案可用于单一对象特征。注意，哈尔特征可以是旋转的集合。

当然，HAAR 图案的比例是一个问题，因为给定的 HAAR 特征只对适当比例的图像起作用。图像金字塔与其他技术一起用于 HAAR 特征检测，以便在给定应用的最佳网格尺寸中在图像上步进搜索窗口。解决特征缩放的另一种方法是使用一组更广泛的缩放 HAAR 特征来在特征空间而不是图像空间中执行金字塔化。解决哈尔特征粒度和矩形形状的一种方法是使用重叠的哈尔特征来近似八边形和六边形；参见图 6-19 中[的责难和星形方法。](#Fig19)

哈尔特征与小波密切相关[227，334]。小波可以被认为是早期 Gabor 函数概念的延伸。这里我们只提供小波和 Gabor 函数的简短讨论；更多讨论见第 2 章。小波是一组*正交的*小持续时间函数。每组小波被设计成满足定位短期信号现象的各种目标。没有单一的小波函数；相反，当设计小波时，首先将母小波设计为小波族的基，然后使用母小波到基集中的平移和压缩来导出子小波。小波被用作一组非线性基函数，其中每个基函数可以根据需要被设计成最佳地匹配输入函数中的期望特征。因此，与使用由正弦和余弦函数组成的统一基函数集(如傅立叶变换)的变换不同，小波使用复杂且本质上不均匀的动态基函数集。小波可以用来描述非常复杂的短期特征，这在一些特征检测应用中可能是一个优势。

然而，与积分图像和 HAAR 特征相比，小波在计算上是昂贵的，因为它们表示复域中的复函数。由于简单的矩形形状和计算的简单性，通常使用哈尔 2D 基函数，特别是当哈尔特征是从积分图像中导出时。

**哈尔摘要分类法**

光谱:整体箱式过滤器

特征形状:方形、矩形

特征模式:密集

特征密度:可变大小的内核

搜索方法:典型网格搜索

距离函数:简单的差异

鲁棒性:1(照明)

具有哈尔式特征的维奥拉·琼斯

Viola Jones method [186]是一种基于 HAAR-like 特征的特征检测流水线框架，使用感知器学习算法来训练检测器匹配网络，该网络由三个主要部分组成:

1.  用于快速计算类哈尔特征的积分图像。
2.  ADA-BOOST 学习算法通过将具有良好匹配性能的强分类器与在训练过程中通过调整加权因子而“增强”的弱分类器相结合，来创建强模式匹配和分类器网络。
3.  将分类器组合成检测器级联或漏斗，以在级联的早期阶段快速丢弃不想要的特征。

由于在单个图像中可能会发现数千个 HAAR 模式匹配，因此必须快速进行特征计算。为了快速进行 HAAR 模式匹配计算，首先将整个图像处理成积分图像。使用滑动窗口方法在图像的每个区域搜索已知的哈尔特征，该方法以某个选定的间隔步进，例如每 *n* 个像素，并且检测到的特征被馈送到被称为*哈尔*级联分类器的分类漏斗中。漏斗的顶部由产生低假阳性和假阴性的特征集组成，因此级联的一阶结果包含图像的高概率区域以供进一步分析。HAAR 特征变得越来越复杂，越来越深入到级联的漏斗中。利用这种布置，如果没有找到期望的 HAAR 特征，则图像区域尽可能快地被拒绝，从而最小化处理开销。

一个完整的 HAAR 特征检测器可以将数百或数千个 HAAR 特征组合成一个最终的分类器，其中不仅特征本身可能是重要的，而且特征的空间排列也是重要的，例如，特征之间的距离和角度关系可以用于分类器中。

冲浪〔t0〕

加速鲁棒特征方法(SURF) [160]在尺度空间中操作，并使用基于 Hessian 矩阵的行列式最大值点的快速 Hessian 检测器。SURF 使用 3x3x3 邻域上的比例空间来定位 bloblike 兴趣点特征。为了找到特征方向，在圆形半径内围绕每个兴趣点的局部区域中计算一组 HAAR-like 特征响应，在兴趣点的匹配金字塔尺度上计算。

如图 6-22 中的[所示，使用大小为![image](images/Eqn6-26.jpg)的滑动扇形](#Fig22) 窗口，找到局部哈尔特征集的主导方向分配。这个滑动扇形窗口以一定间隔围绕兴趣点旋转。在滑动扇形区域内，所有 HAAR 特征被求和。这包括水平和垂直响应，产生一组方向向量；选择最大的向量来表示主要特征方向。作为比较，SURF 整合梯度以找到主导方向，而 SIFT 使用梯度方向直方图来记录方向。

![9781430259299_Fig06-22.jpg](images/9781430259299_Fig06-22.jpg)

[图 6-22](#_Fig22) 。(左)在 SURF 中使用的滑动扇形窗口，用于计算 HAAR 要素的主要方向，从而为 SURF 要素添加旋转不变性。(右)特征向量构建过程，显示了包含细分为 4x4 子区域和 2x2 子区域的 4x4 区域的网格

为了创建 SURF 描述符向量，围绕兴趣点建立 4×4 区域的矩形网格，类似于 SIFT，并且该网格的每个区域被分割成 4×4 子区域。在每个子区域内，在 5×5 样本点上计算 HAAR 小波响应。使用圆形对称高斯加权因子对每个 HAAR 响应进行加权，其中加权因子随着距中心兴趣点的距离而减小，这类似于 SIFT。每个特征向量包含四个部分:

![image](images/Eqn6-27.jpg)

对每个子区域的小波响应 *d* <sub>*x*</sub> 和 *d* <sub>*y*</sub> 求和，并且响应|*d*<sub>*x*</sub>|和|*d*<sub>*y*</sub>|的绝对值提供强度变化的极性。最终的描述符向量是 4x4x4: 4x4 区域，每个区域有四个部分，总向量长度为 64。当然，通过修改基本方法可以设计出其他的向量长度。

如[图 6-22](#Fig22) 所示，SURF 梯度网格根据滑动扇形窗口过程中计算的主导方向旋转，然后在每个正方形区域中计算小波响应，相对于宁滨到特征向量的方向。每个小波的方向和*d*<sub>T5】x</sub>， *d* <sub>*y*</sub> ，|*d*<sub>*x*</sub>|，|*d*<sub>*y*</sub>|都记录在特征向量中。

SURF 和 SIFT 流水线方法在实施步骤和最终精度方面通常是可比较的，但是与 ORB 基准测试相比，SURF 的计算速度比 SIFT 快一个数量级[134]。然而，本地二进制描述符，如 ORB，比 SURF 快另一个数量级，对许多应用具有相当的准确性[134]。有关详细信息，请参阅本章前面有关本地二进制描述符的部分。

**冲浪汇总分类法**

光谱:整体箱式过滤器+方向向量

特征形状:哈尔矩形

特征模式:密集

特征密度:在 Hessian 兴趣点稀疏

搜索方法:尺度空间上的密集滑动窗口

距离函数:马氏还是欧几里得

鲁棒性:4(比例、旋转、照明、噪声)

冲浪的变化

SURF 描述符[188，189]的一些变化值得讨论，如[表 6-6](#Tab6) 所示。特别感兴趣的是 G-SURF 方法[188]，该方法使用局部区域规范坐标系的微分几何概念[190]来计算特征。因为规范坐标不是全局的，而是图像特征的局部的，所以规范空间特征在几何精度方面具有优势。

[表 6-6](#_Tab6) 。SURF 变体(如 Alcantarilla 等人所讨论的。阿尔[188])

| 

冲浪

 | 

圆形对称高斯加权方案，20x20 网格

 |
| --- | --- |
| U-SURF [189] | 更快版本的 SURF，只使用直立特征；没有方向。类似于 M-SURF，除了没有旋转网格的直立计算“U ”,使用 20x20 网格，没有重叠的 HAAR 特征，修改的高斯加权方案，直方图仓之间的双线性插值。 |
| m-曲面 MU-SURF [189] | 圆形对称高斯加权方案分两步计算，而不是像普通 SURF 那样一步计算，24x24 网格使用重叠的 HAAR 特征，在 MU-SURF 版本中省略了旋转方向。 |
| G-SURF，GU-SURF [188] | 代替 HAAR 特征，在规范坐标空间中替换 2 <sup>和</sup>阶规范导数，没有高斯加权，20x20 网格。规范导数是旋转和平移不变的，而 HAAR 特征是简单的矩形，并且矩形具有较差的旋转不变性，可能最多+/-15 度。 |
| MG-SURF [188] | 与 M-SURF 相同，但使用仪表导数。 |
| NG-SURF [188] | N =没有像 SURF 中那样的高斯加权；与 SURF 相同，但没有应用高斯加权，允许在仪表导数特征和 HAAR 特征之间进行比较。 |

梯度直方图(HOG)和变体

梯度直方图(HOG)方法[106]旨在用于图像分类，并依赖于在重叠块的密集网格上计算局部区域梯度，而不是在感兴趣的点上。HOG 适用于某些应用，例如人物检测，其中图像中的特征非常大。

HOG 对原始数据进行操作；虽然许多方法依赖高斯平滑和其他滤波方法来准备数据，但 HOG 是专门为使用所有原始数据而设计的，不会引入去除细微细节的滤波伪像。作者展示了使用这种方法的明显好处。这是一个权衡:*滤波伪像*如平滑 vs. *图像伪像*如精细细节。HOG 方法显示了原始数据的优先结果。参见[图 4-12](04.html#Fig12) ，显示了一个猪描述符的可视化。

HOG 方法的主要方面如下:

*   原始 RGB 图像在没有色彩校正或噪声过滤的情况下使用，使用其他色彩空间和色彩伽马调整对于增加的成本提供了很少的优势。
*   优选 64×128 的滑动检测器窗口；还测试了 56x120 和 48x112 大小的窗户。在该检测器窗口内，定义了总共 8×16×8 的像素块区域用于梯度的计算。块大小是可调的。
*   对于每个 8×8 像素块，总共计算 64 个局部梯度幅度。首选的方法是 *x/y 中简单的行和列导数 *[-1，0，1】*；*尝试了其他梯度滤波方法，但使用或不使用高斯滤波的较大滤波器会降低精度和性能。为每个颜色通道计算单独的梯度。
*   使用双线性内插，将局部梯度幅度分仓到边缘方向的 9 仓直方图中，将维度从 64 量化到 9；9 个垃圾箱似乎无关紧要。注意，可以使用矩形 R-HOG 或圆形对数极坐标 C-HOG 宁滨区域。
*   将梯度幅值直方图值归一化为单位长度，以提供照明不变性。归一化是成组执行的，而不是在单个直方图上执行的。在检测器窗口内使用重叠的 2×2 直方图块；块重叠方法减少了尖锐的伪像，并且 2×2 的区域大小似乎效果最好。
*   对于 64×128 像素检测器窗口方法，定义了总共 128 个 8×8 像素块。每个 8×8 块具有四个单元，用于计算独立的 9-bin 直方图。描述符的总大小为 8x16x4x9=4608。

注意，滑动窗口和块大小的各种公式被用于处理特定的应用领域。参见[图 4-12](04.html#Fig12) ，显示了使用 7x15 8x8 像素单元计算的 HOG 描述符的可视化。HOG [106]设计方法的主要发现包括:

*   原始数据中精细尺度处的突变边缘是梯度计算中的准确性所需要的，并且后处理和归一化梯度箱稍后工作良好。
*   局部对比度的 L2 式块归一化是优选的，并且提供了优于全局归一化的精度；注意，局部区域块被重叠以帮助归一化。
*   在直方图宁滨过程中取消 L2 块归一化阶段会降低 27%的准确性。
*   HOG 特征比 HAAR 型检测器表现得好得多，并且当我们考虑 HAAR 小波是积分的无方向值时，这是有意义的，而局部 HOG 区域上的梯度幅度和方向提供了更丰富的光谱。

**生猪分类汇总**

光谱:局部区域梯度直方图

特征形状:矩形或圆形

特征模式:密集的 64x128 典型矩形

特征密度:密集重叠块

搜索方法:标度空间上的网格

距离函数:欧几里得

鲁棒性:4(光照、视点、比例、噪声)

PHOG 及相关方法

定向梯度金字塔直方图(PHOG) [191]方法是为全局或区域图像分类而设计的，而不是局部特征检测。PHOG 使用在倍频程网格区域细分中遍布整个图像的特征之间的空间关系，将区域 HOG 特征与整个图像区域特征相结合；参见[图 6-23](#Fig23) 。

![9781430259299_Fig06-23.jpg](images/9781430259299_Fig06-23.jpg)

[图 6-23](#_Fig23) 。在整个图像上计算的一组 PHOG 描述符，使用倍频程网格单元来限制边缘信息。(左中)一个直方图。(右中)四个直方图串联在一起。(右)16 个直方图串联显示

PHOG 类似于相关工作，使用由粗到细的区域直方图网格，由 Lazebni、Schmid 和 Ponce [534]称为空间金字塔匹配，使用定向边缘直方图和 SIFT 特征提供多类分类。它也类似于早期在逐步细化的网格上对级联直方图要素金字塔所做的工作，称为金字塔匹配核，由 Grauman 和 Darrell [535]开发，使用加权多分辨率直方图交集计算对应关系。参考文献[55]中描述了使用多分辨率直方图进行纹理分类的其他相关早期工作。

PHOG 描述符捕获了几个特征变量，包括:

*   **形状特征，**源自基于梯度特征的边缘的局部分布，该梯度特征受到 HOG 方法的启发[106]。
*   **空间关系，**通过计算一组倍频程网格单元上的直方图特征，在整个图像上具有尺寸越来越细的块。
*   **外观特征，**使用在规则间隔的密集网格上计算的密集 SIFT 描述符集。演示了 PHOG 计算彩色图像的 SIFT 向量；HSV 颜色空间的结果在[191]中提供。

一组训练图像被用于为一类图像(例如汽车或人)生成一组 PHOG 描述符变量。使用 K-means 聚类将 PHOG 特征的训练集减少到一组几百个视觉单词，以用于特征匹配和图像分类。

PHOG 的一些关键概念如图 6-23 所示。对于特征形状，使用 Canny 边缘检测器计算边缘，使用 Sobel 算子计算梯度方向。梯度方向宁滨通过梯度方向(HOG)在相邻的直方图条柱之间线性插值，每个条柱代表边缘的角度。针对整个图像中每个尺寸的网格单元计算 HOG 向量。最终的 PHOG 描述符由来自每个网格级别的所有单个 HOG 直方图的加权串联组成。八度网格单元区域之间没有尺度空间平滑来减少细节。

如图[图 6-23](#Fig23) 所示，最终的 PHOG 包含了所有连接在一起的猪。请注意，对于中左图像，全网格大小的单元格产生 1 个 HOG，对于中右图像，半八度网格产生 4 个 HOG，对于右图像，细网格产生 16 个 HOG 向量。最终的 PHOG 被归一化为 1，以减少由于边缘或纹理集中而产生的偏差。

**PHOG 摘要分类法**

光谱:全局和区域梯度方向直方图

特征形状:矩形

特征模式:瓷砖的密集网格

特征密度:密集平铺

搜索方法:网格区域，无搜索

距离函数:l2 范数

鲁棒性:3(对光照、视点、噪声有一定不变性的图像分类)

雏菊和雏菊

菊花描述符[214.309]受 SIFT 和类 GLOH 描述符的启发，设计用于密集匹配应用，如立体映射和跟踪，据报道比 SIFT 快 40%。参见图 6-24 。Daisy 依赖于一组径向分布且大小增加的高斯卷积核，这些卷积核重叠并类似于花状形状(Daisy)。

![9781430259299_Fig06-24.jpg](images/9781430259299_Fig06-24.jpg)

[图 6-24](#_Fig24) 。(左)菊花图案区域，由四组八个重叠的同心圆组成，外圆中的高斯模糊增加，其中每个圆的半径与高斯核区域标准偏差成比例。重叠的圆形区域提供了针对相邻区域过渡伪影的一定程度的过滤。(右)一个假设的二元遮挡遮罩；较暗的区域表示匹配期间描述符中可能被遮挡和“关闭”的点

Daisy 不需要局部兴趣点，而是在每个像素密集地计算描述符，因为预期的应用是立体映射和跟踪。Daisy 不是像 SIFT 和 GLOH 那样使用梯度幅度和方向计算，而是基于高斯滤波器的一组定向导数来计算一组卷积定向图，以创建八个等角度间隔的定向图。

如[图 6-24](#Fig24) 所示，每个滤镜区域的大小和每个高斯滤镜中的模糊量随着远离中心而增加，通过在视野中心保持锐度和焦距并在远离中心的地方降低焦距和分辨率来模仿人类视觉系统。像 SIFT 一样，Daisy 也使用局部方向的直方图宁滨来形成描述符。

Daisy 的设计考虑到了优化。卷积方向图方法比 SIFT 和 GLOH 的梯度幅度和方向方法消耗更少的计算周期，但是产生相似的结果。Daisy 方法还包括通过使用一组连续的较小核来优化计算较大的高斯核，以及通过递归计算某些卷积核。另一个优化是使用圆形网格模式而不是 SIFT 中使用的矩形网格，这允许 Daisy 通过旋转采样网格而不是重新计算卷积图来改变旋转。

如[图 6-24](#Fig24) (右图)所示，Daisy 还使用二元遮挡遮罩来识别描述符模式的部分，以便在特征匹配距离函数中使用或忽略。这是一个新颖的特征，并且提供了对遮挡的不变性。

Daisy 的 FPGA 优化版本称为 O-Daisy [217]，提供增强的旋转不变性。

**雏菊汇总分类**

光谱:高斯卷积值

特征形状:圆形

特征模式:重叠同心圆

特征密度:每个像素都很密集

搜索方法:密集滑动窗口

距离函数:欧几里得

鲁棒性:3(照明、遮挡、噪声)

卡片

紧凑和实时描述符(CARD)方法 [218]的设计考虑了性能优化，使用基于学习的稀疏散列将描述符转换为支持快速汉明距离匹配的二进制代码。CARD 的一个新概念是从局部像素块中提取方向梯度直方图的查找表描述符，以及将查找表宁滨变换到笛卡尔或对数极坐标箱中。据报道，与 SIFT 和 SURF 相比，CARD 实现了明显更好的旋转和缩放鲁棒性，性能至少比 SIFT 好十倍，比 SURF 略好。

CARD 遵循 RIFF [222][219]的方法进行特征检测，使用位于图像金字塔中八度音程水平之上的快速特征。完整的卡片金字塔包括八度音阶之间的中间等级，以增加分辨率。金字塔等级以![image](images/Eqn6-35.jpg)的间隔计算，等级 0 为完整图像。使用 Shi-Tomasi [157]优化的 Harris 角点检测器找到关键点。

像 SIFT 一样，CARD 计算每个像素的梯度，可以使用笛卡尔坐标宁滨，也可以像 GLOH 一样使用对数极坐标宁滨；参见图 6-17 。为了避免代价高昂的将梯度信息插值到直方图面元的 biliner 插值，CARD 通过在宁滨之前旋转宁滨模式来优化这一步骤，如图[图 6-25](#Fig25) 所示。注意，使用查找表进一步优化了宁滨，查找表包含基于面片中梯度的主方向的函数值。

![9781430259299_Fig06-25.jpg](images/9781430259299_Fig06-25.jpg)

[图 6-25](#_Fig25) 。包含 17 个对数极坐标仓的卡片补丁图案，左侧图像旋转以优化宁滨

如图[图 6-25](#Fig25) 所示，为了加速宁滨，CARD 不是像 SIFT 等方法那样，基于估计的梯度方向旋转面片来提取和绑定旋转不变的描述符，而是基于梯度方向旋转面片上的宁滨图案，然后执行宁滨，这样速度快得多。[图 6-25](#Fig25) 显示右边未旋转的宁滨图样，左边被![image](images/Eqn6-36.jpg)旋转。所有入库的值被连接并归一化以形成描述符，在报告的最精确形式中描述符为 128 位长[218]。

**卡片汇总分类**

光谱:梯度幅度和方向

特征形状:圆形，基于金字塔比例和主方向的可变尺寸

特征模式:密集

特征密度:图像金字塔上快速兴趣点处的稀疏

搜索方法:滑动窗口

距离函数:汉明

鲁棒性:3(光照、缩放、旋转)

鲁棒的快速特征匹配

由 Taylor、Rosten 和 Drummond [220] (RFM2.3)开发的 2.3us 中的健壮特征匹配(此处作者创造了这个*缩写)是一种新颖、快速的特征描述和匹配方法，针对计算速度和内存占用进行了优化。就所采用的方法和优化的组合而言，RFM2.3 在这里调查的特征描述符中独树一帜，包括稀疏区域直方图和二进制特征码。RFM2.3 中开发的一个关键思想是通过创建原始特征的一组缩放、旋转和仿射扭曲视图来计算同一面片的多个视图的描述符，这提供了在仿射变换下的不变性，如旋转和缩放以及透视。*

除了扭曲之外，一些噪声和模糊被添加到扭曲的面片集合中，以为描述符提供鲁棒性。RFM2.3 是可变形描述符类中为数不多的方法之一[344–346]。尺度空间金字塔中的快速关键点被用于定位候选特征，并且为每个关键点计算扭曲面片集。在计算了扭曲的小块集合之后，在该集合中的每个新的小块上再次生成快速拐角，以确定哪些小块是最明显和可检测的，并且选择最佳的小块并将其量化成二进制特征描述符并保存在模式数据库中。

如[图 6-26](#Fig26) 所示，RFM2.3 在 16x16 区域内使用稀疏的 8x8 采样模式来捕获补丁。选择 8×8 采样模式中的 13 个像素的稀疏集合来形成稀疏模式的模式数据库中的索引。索引采用 13 位整数形式，如果像素值大于面片平均值，则每一位都将设置为 1，从而将索引限制为 2^13 或 8192 个条目，因此数据库中的多个要素可以共享同一个索引。然而，使用汉明距离可以非常快速地计算出特征差异，因此索引主要用作组织相似补丁的数据库关键字。训练阶段确定要包含在特征数据库中的最优索引值集，以及要保存的最优模式，因为一些模式比其他模式更明显。最初，以全分辨率捕获特征，但是如果在全分辨率下发现很少好的特征，则在图像金字塔的下一级提取附加特征。

![9781430259299_Fig06-26.jpg](images/9781430259299_Fig06-26.jpg)

[图 6-26](#_Fig26) 。RFM2.3(左)描述符稀疏采样模式。(右)使用 13 个样本的稀疏描述符，用于将特征索引构建到数据库中

描述符在训练期间被建模为 64 值的归一化强度分布函数，其大小被减小以在两个过程中计算最终的描述符向量:首先，64 个值被减小到像素强度分布的五格直方图；第二，当训练完成时，如果柱被使用，则每个直方图柱被二进制编码为 1 位，如果柱很少被使用，则为 0 位。所得到的描述符是适合于汉明距离的压缩的二进制编码的位向量。

**RFM2.3 摘要分类法**

光谱:标准化直方图斑块强度编码成二进制斑块指数代码

特征形状:矩形，多视点

特征图案:15x15 像素块中的稀疏图案

特征密度:快速 9 兴趣点稀疏

搜索方法:在图像金字塔上滑动窗口

距离函数:汉明

鲁棒性:4(光照、比例、旋转、视点)

礁石〔t0〕，CHOG

旋转不变快速特征(RIFF)【222】【219】方法受到移动增强现实中的跟踪和映射应用的启发。RIFF 方法的基础包括径向梯度变换(RGT) 的开发，其以计算高效且旋转不变的方式表达梯度方向和幅度。RIFF 的另一个贡献是一种跟踪方法，据报道，它比 KLT 更准确，性能提高了 26 倍。据报道 RIFF 比 SURF 快 15 倍。

RIFF 使用在位于尺度空间中的快速兴趣点处计算的 HOG 描述符，并且通常遵循作者在 CHOG [223](压缩的 HOG) 中的先前工作的方法，用于降低维度、低比特率宁滨。在宁滨梯度之前，径向梯度变换(RGT)用于创建旋转不变的梯度格式。如[图 6-27](#Fig27) (左图)所示，RGT 使用两个正交的基向量( *r，t)* 形成围绕面片中心点 *c* 的径向坐标系，HOG 梯度 *g* 投影到( *r，t)* 上表示为旋转不变向量(*g*<sup>*T*</sup>*r*，*宁滨建议使用矢量量化器和标量量化器，如图[图 6-27](#Fig27) 所示。*

![9781430259299_Fig06-27.jpg](images/9781430259299_Fig06-27.jpg)

[图 6-27](#_Fig27) 。RIFF 描述符背后的概念[222][219]，部分基于 CHOG [223]

如[图 6-27](#Fig27) (右图)所示，可以通过在近似径向梯度变换(ARGT)中使用梯度方向近似来优化基向量，使用沿同一梯度线的相邻、标准化像素之间的简单差异和简单的 45 度量化来优化使其易于计算。在[图 6-27](#Fig27) (中左图)中也要注意，柱状图是通过在环形区域内每隔一个像素进行采样来优化的，出于实际原因，使用四个环形区域作为区分度和性能之间的折衷。为了满足量化梯度直方图仓的实时系统性能目标，RIFF 使用 5x5 标量量化器，而不是矢量量化器。

在[图 6-27](#Fig27) (左图)中， ***g*** 在点 ***c*** 到径向坐标系( ***r，t*** )上的梯度投影用于旋转不变的梯度表达式，描述符面片以 ***c*** 为中心。中间左侧的图像(环形)说明了宁滨方法，使用四个环形环，这降低了维数，仅采样灰色像素提供了 2 倍的加速。中间和中间右侧的图像说明了直方图量化的仓中心机制:(1)更灵活的标量量化器 SQ-25 和(2)更快的矢量量化器 VQ-17。右图显示了从中心向外辐射的梯度方向的径向坐标系基向量，显示了计算效率更高的 ARGT 或近似径向梯度变换(RGT)，它不使用浮点数学(RGT 未显示，参见[222])。

**RIFF 摘要分类法**

光谱:近似径向梯度的局部区域直方图

特征形状:圆形

特征模式:每隔一个像素稀疏

特征密度:图像金字塔上快速兴趣点处的稀疏

搜索方法:滑动窗口

距离函数:对称 KL-散度

鲁棒性:4(光照、比例、旋转、视点)

链码直方图

链码直方图(CCH) [206]描述符通过宁滨连接成分的方向(在这种情况下是连接的周界像素)将周界的形状记录为直方图。当周界被逐个像素遍历时，遍历的方向被记录为一个数字，如图 6-28 中的[所示，并记录在直方图特征中。为了匹配 CCH 特征，可以使用 SSD 或 SAD 距离度量。](#Fig28)

![9781430259299_Fig06-28.jpg](images/9781430259299_Fig06-28.jpg)

[图 6-28](#_Fig28) 。制作直方图的链码过程。(从左到右)1。连接周长可能改变的 8 个可能方向。2.每个连接的周界方向变化的链码值；确定链码值的方向是从中心像素开始。3.一个带有由黑色像素高亮显示的连接周界的对象。4.从顶部像素开始，沿着连接的周界的对象的链码。5.所有链码值的直方图

美国专利 US4783828 涵盖了链码直方图。CCH 发明于 1961 年[206]，也被称为弗里曼链码。CCH 的一个变体是顶点链码[207]，其允许描述符大小的减少，并且据报道具有更好的准确性。

数字网络

由 Hundelshausen 和 Sukthankar 开发的 D-NETS(Descriptor-NETS)[135]方法放弃了小块或矩形描述符区域，支持一组在端点连接的条带。d-网允许一族由一组端点之间的有向图组成的带状模式；它没有具体限制可以使用的端点或条形图案的类型。D-NETS 论文讨论了三种模式的结果:

*   **团 D 网:**连接所有兴趣点的完全连接的带状网络。虽然在该方法中使用的兴趣点的类型可能不同，但是最初的工作使用 SIFT 关键点报告结果。
*   **迭代 D-网**:使用兴趣点的子集动态创建网络，使用停止标准增加连接性，以优化连接密度，从而获得所需的匹配性能和准确性。
*   **密集采样的 D 网:**该变体不使用兴趣点，而是在规则间隔的网格上对网进行密集采样，10 像素网格是凭经验选择和优选的，在网格位置添加一些滞后或噪声以减少病理采样伪影。密集方法适用于高度并行的实现，以提高性能。

关于三种 D 网模式的图示和一些讨论，见[图 4-9](04.html#Fig9) 。

每个条带是在两点之间采样的原始像素值的数组。描述符本身被称为 *d-token* ，并且提出了用于计算 d-token 的各种方法，例如类似于 FERNS 或 ORB 的条带中像素值之间的二进制比较，以及比较条带阵列的 1D 傅立叶变换，或者使用小波。报告的最佳结果是一种经验设计的 d-token，创建如下:

*   **条带向量采样**，其中每个像素条带向量在像素条带向量长度的 10%和 80%之间的等间距位置被采样；这种采样安排是根据经验确定的，以忽略端点附近的像素。
*   **量化**像素条带矢量通过将数值整合成一组均匀的组块， ***s*** **，**降低噪声。
*   **标准化**用于缩放和平移的条带矢量。
*   **将**向量值离散化到有限的位范围内， ***b*** *。*
*   **将**所有统一的组块串接成 d-token，d-token 是一个长度为 ***s*b*** 的位串。

描述符匹配利用了一种高效新颖的哈希和假设对应投票方法。据报道，D-NETS 结果比 ORB 或 SIFT 具有更高的精确度和召回率。

**D-NETS 摘要分类法**

光谱:标准化的平均线性像素强度块

要素形状:线段连接的网络

特征模式:所选点之间的稀疏线段

要素密度:沿线稀疏

搜索方法:滑动窗口

距离函数:散列和投票

鲁棒性:5(照明、缩放、旋转、视点、遮挡)

局部渐变图案

LBP 方法的变体，局部梯度模式(LGP) [204]使用局部区域梯度而不是局部图像强度对比较来形成二进制描述符。计算局部区域中每个像素的 3×3 梯度，然后将每个梯度幅度与所有局部区域梯度的平均值进行比较，如果该值较大，则分配二进制比特值 1，否则分配 0。作者声称，在人脸识别算法中，准确率和区分度都比基本的 LBP 有所提高，包括假阳性的减少。然而，由于局部区域梯度计算，计算要求大大增加。

**LGP 汇总分类**

光谱:中心像素和局部区域梯度之间的局部区域梯度比较

特征形状:方形

特征模式:每个像素 3×3 内核区域

特征密度:在 3x3 区域密集

搜索方法:滑动窗口

距离函数:汉明

鲁棒性:3(光照、缩放、旋转)

局部相位量化

局部相位量化(LPQ) 描述符[166–168]旨在对图像模糊具有鲁棒性，并利用傅立叶相位信息的模糊不敏感特性。由于需要傅里叶变换来计算相位，因此存在一些计算开销；然而，整数 DFT 方法可以用于加速。据报道，LPQ 为均匀模糊以及均匀照明变化提供了鲁棒性。据报道，LPQ 在非模糊图像上提供了与 LBP 和 Gabor 滤波器组方法相等或稍好的精度。虽然主要用于纹理描述，但 LPQ 也可以用于局部特征描述，以通过将 LPQ 与另一种描述符方法(如 SIFT)相结合来增加模糊不变性。

为了计算，首先在图像的小区域(例如 8×8 块)上的每个像素处计算 DFT。在描述符中使用了来自相位谱的低四个频率分量。作者注意到内核大小影响模糊不变性，因此更大的内核块可以以增加计算开销为代价提供更多的不变性。

在量化之前，使用白化变换对系数进行去相关，从而产生均匀的相移和 8 度旋转，这保持了模糊不变性。对系数去相关有助于创建统计上独立的样本，以便更好地量化。

对于每个像素，使用类似 LBP 的 8 位二进制编码位向量和简单的标量量化器，将得到的向量量化到 8 维空间中，以产生 1 和 0 值。使用从 8 维空间导出的 256 个超立方体来执行特征向量的宁滨。得到的特征向量是 256 维的 8 位代码。

**LPQ 摘要分类法**

光谱:使用 DFT-> 8 位二进制代码的局部区域白化相位

特征形状:方形

特征模式:8×8 内核区域

特征密度:每个像素都很密集

搜索方法:滑动窗口

距离函数:汉明

鲁棒性:3(对比度、亮度、模糊度)

基础空间描述符

本节将介绍如何使用基空间来描述计算机视觉应用中的图像特征。一个*基空间*由一组函数组成，即*基函数*，它们作为一个集合组合在一起，比如像傅立叶级数这样的级数(在[第 3 章](03.html)中讨论)。一个复信号可以分解到一个选定的基空间作为描述符。

基函数可以用来描述、重构或合成信号。它们需要一个正向转换来将值投影到基集中，并需要一个反向转换来将数据移回原始值。一个简单的例子是在以 2 为基数的数字系统和以 10 为基数的数字系统之间转换数字；每种基础都有优点。

有时，将数据集从一个基础空间转换到另一个基础空间对于深入了解数据或者处理和过滤数据非常有用。例如，作为笛卡尔坐标系中的像素组在时域中捕获的图像可以被变换到其他基空间，例如频域中的傅立叶基空间，用于处理和统计分析。计算机视觉应用的良好基础空间将提供正向和反向变换。同样，傅里叶变换满足这些标准，以及其他几个基本空间。

基空间类似于坐标系，因为两者都有到相关空间的可逆变换。在某些情况下，简单地将特征光谱转换到另一个坐标系中使得分析和表示更简单和更有效。([第 4 章](04.html)讨论用于特征表示的坐标系。)本章中调查的几个描述符使用非笛卡尔坐标系，包括使用极坐标宁滨的 GLOH 和使用径向坐标描述符的 RIFF。

傅立叶描述符

傅立叶描述符[227]将特征数据表示为正弦和余弦项，这可以在傅立叶功率谱中观察到。傅立叶级数、傅立叶变换和快速傅立叶变换用于广泛的信号分析，包括 1D、2D 和 3D 问题。没有傅立叶方法的图像处理或计算机视觉的讨论是不完整的，所以我们将在这里探索傅立叶方法及其在特征描述中的应用。

布拉采维尔[227]在标准文本中已经很好地发展了傅立叶级数和傅立叶变换背后的数学和理论，我们讨论了傅立叶功率谱在特征描述中的应用，并在此提供了基本原理的最少处理以构建讨论；参见[第 3 章](03.html)。傅立叶级数背后的基本思想是根据幅度和相位定义一系列正弦和余弦基函数，这些函数可以求和来近似任何复杂的周期信号。相反，傅立叶变换用于将复杂的周期信号分解成正弦和余弦基项的傅立叶级数组。诸如线或 2D 图像区域的信号的傅立叶级数分量被用作该区域的傅立叶描述符。

对于本讨论，*傅立叶描述符*是从傅立叶功率谱中选择的成分，通常我们选择低频成分，它们承载大部分功率。这里有几个使用傅立叶描述子的例子；注意，可以使用傅立叶幅度和相位中的一个或两个。

*   **LBP 直方图的傅里叶谱。**如图[图 3-10](03.html#Fig10) 所示，一个 LBP 直方图集合可以表示为一个傅立叶谱幅值，这使得直方图描述子具有旋转不变性。
*   **形状周长的傅立叶描述子。**如图[图 6-29](#Fig29) 所示，多边形物体的形状可以用傅立叶方法描述，使用一系列以一定间隔(如 10 度)从周长到质心的线段。该阵列被馈送到 FFT 以产生形状描述符，该形状描述符是比例和旋转不变的。

![9781430259299_Fig06-29.jpg](images/9781430259299_Fig06-29.jpg)

[图 6-29](#_Fig29) 。(左)多边形形状长轴、短轴和边界框。(中心)具有从质心到周长的径向样本长度的对象，每个样本长度都保存在一个数组中，经过标准化。(右)图像输入傅里叶频谱，产生傅里叶描述符

*   **梯度直方图的傅立叶描述子。**很多描述子用梯度来表示特征，用梯度幅度或方向直方图来对结果进行 bin。傅立叶频谱幅度可以用于从梯度信息创建描述符，以增加不变性。
*   **径向线样本的傅里叶谱。**如在 RFAN 描述符[136]中使用的，来自局部区域的像素值的径向线样本可以被表示为傅立叶幅度的傅立叶描述符。
*   **傅里叶频谱相位。**本章描述的 LPQ 描述符利用了描述符中的傅里叶频谱相位信息，据报道，由于相位信息，LPQ 对模糊不敏感。

描述符构建的其他基本函数

除了傅立叶基系列，其他函数系列和基集用于描述符构建、模式识别、和图像编码。然而，这种方法通常应用于全局或区域范围。参见[第 3 章](03.html)了解其他几种方法的详细信息。

稀疏编码方法

在关于基空间描述符的讨论中，我们简要讨论稀疏编码方法，因为它们类似于基空间。采用许多方法来进行稀疏编码[530–533]，使用术语上的细微差异，包括*视觉词汇* 和*词汇袋*方法【537】。然而，稀疏编码方法使用一组减少的学习特征描述符或代码，而不是基函数。主要思想是从训练图像中建立基本特征的稀疏码书，并与稀疏码书进行匹配。稀疏码可以是简单的图像补片或其他描述符。

一系列机器学习方法(在本书的范围之外，参见 Prince 的[546]以获得关于机器学习的更多信息)被用于寻找最佳稀疏特征集。此外，每种稀疏编码方法可能更喜欢特定类型的分类和匹配。稀疏码被关联为子集或签名以识别对象。本章中讨论的任何局部特征描述符方法都可以用作稀疏码本的基础。稀疏编码和相关方法将在第 4 章中详细讨论。有关稀疏编码的更多详细信息，请参见 Aharon、Alad 和 Bruckstein [536]的工作，以及飞飞、Fergus 和 Torralba [537]。

稀疏编码方法的例子

作为使用稀疏码进行对象识别的一个例子，Ren 和 Ramaan [125]改进了 HOG 方法，用称为稀疏码直方图(HSC )的新特征描述符代替 HOG 梯度直方图特征；参见[图 6-30](#Fig30) 。使用稀疏码书的相关工作包括分层匹配追踪方法(HMP)【140】，该方法构建了从图像补丁导出的补丁级稀疏码的分层特征分层结构，以产生局部特征。来自整个图像的块级稀疏码被组合以产生图像级特征。HMP 的一个近似变体是多路径稀疏编码方法[124]，它有效地将多种尺寸的较小和中等尺寸的补丁以及多层稀疏编码结合到单个系统中。

![9781430259299_Fig06-30.jpg](images/9781430259299_Fig06-30.jpg)

[图 6-30](#_Fig30) 。一种使用稀疏编码的特征学习方法，展示了如何从一组学习到的稀疏码构建稀疏码直方图(HSC)。据报道，HSC 方法[125]在许多情况下都优于 HOG

多边形形状描述符

多边形形状描述符为任意多边形或斑点计算一组*形状特征*，并且使用统计矩或图像矩来描述形状(如[第 3 章](03.html)中所讨论的)。这些形状特征基于面形状的周长。在测量和描述之前，用于描绘图像周界以突出形状的方法通常是复杂的、凭经验调整的图像预处理操作流水线，如阈值处理、分割和形态学(如在[第 2 章](02.html)中所讨论的)。一旦多边形形状被描绘，形状描述符被计算；参见[图 6-31](#Fig31) 。通常，多边形形状方法适用于较大区域尺寸的特征。在文献中，这个话题也可能被讨论为*图像矩*。要深入了解图像时刻的主题，请参阅 Flusser 等人的文章。艾尔。[518].

![9781430259299_Fig06-31.jpg](images/9781430259299_Fig06-31.jpg)

[图 6-31](#_Fig31) 。多边形形状描述符。(左)孔雀石碎片。(右)在二值化阈值、周长追踪和特征标注后定义和标注的多边形形状。(使用 ImageJ Fiji 进行图像处理和颗粒分析)

多边形形状方法通常用于医学和工业应用中，例如用于细胞生物学的自动显微镜，以及用于工业检查；参见图 6-31 。商业软件库可用于多边形形状描述，通常称为*粒子分析*或*斑点分析*。参见[附录 C](11.html) 。

MSER 方法

最大稳定极值区域(MSER)方法[194]通常在文献中作为感兴趣区域检测器讨论，事实上也确实如此。然而，我们在形状描述符部分包括 MSER，因为 MSER 区域可能比其他兴趣点方法大得多，例如 HARRIS 或 FAST。

开发 MSER 检测器是为了解决宽基线立体声系统中的视差对应。立体系统产生扭曲和复杂的几何深度场，并且根据相机之间的基线和对象到相机的距离，必须补偿各种几何效果。在宽基线立体系统中，更靠近相机的特征在仿射变换下更加失真，使得更难找到左/右图像对之间的精确匹配。MSER 方法试图通过匹配斑点状特征来克服这个问题。MSER 区域类似于形态学斑点，对倾斜和光照相当鲁棒。MSER 本质上是分水岭算法的一个有效变体，除了 MSER 的目标是找到一个阈值范围，使分水岭盆地的大小保持不变。

MSER 方法包括基于二进制强度阈值将像素分类成一组区域；连通分量图案中在阈值范围内具有相似像素值的区域被认为是最大稳定的。为了计算 MSER，在二进制强度阈值循环中对像素进行分类，该循环从最小到最大扫描强度值。首先，在单个图像通道(例如亮度通道)上将二进制阈值设置为低值，例如零。像素< the threshold value are black, pixels >=白色。在每个阈值级别，保存一个连通分量或像素的列表。强度阈值从 0 增加到最大像素值。不随着强度变化而增长或收缩或改变的区域被认为是最大稳定的，并且 MSER 描述符记录最大区域的位置和相应的阈值。

在立体应用中，较小的 MSER 区域是优选的，并且相关性被用于最终对应，并且相似性在一组圆形 MSER 区域内以选择的旋转间隔被测量。MSER 的一些有趣优势包括:

*   多尺度特征和多尺度检测。因为 MSER 特征不需要任何图像平滑或尺度空间，所以粗糙特征和精细边缘特征都可以被检测到。
*   跨整个区域全局计算的可变大小特征，不限于面片大小或搜索窗口大小。
*   仿射变换不变性，这是一个特定的目标。
*   对形状变化的一般不变性和检测的稳定性，因为极值区域往往在宽范围的图像变换中被检测到。

MSER 也可以被认为是形状描述符的基础，并作为形态学分割方法的替代方法。每个 MSER 区域都可以用形状度量来分析和描述，这将在本章后面讨论。

斑点和多边形的对象形状度量

对象形状度量是强大的，并且在不变性和鲁棒性方面产生许多自由度。对象形状度量不同于局部特征度量，因为对象形状度量可以描述更大的特征。这对于逐帧跟踪是有利的。例如，可以在各种条件和不变性下逐帧跟踪仅由几个简单的对象形状度量(如面积、周长和质心)描述的大对象。欲了解更多信息，请参阅参考文献[128，129]中关于 2D 形状描述方法的综述。

形状可以用几种方法来描述，包括:

*   **物体形状矩和度量:**本节的重点。
*   **影像时刻:**参见[第 3 章](03.html)中的“影像时刻”
*   **傅立叶描述符:本章讨论的**和[第三章](03.html)。
*   **形状上下文特征描述符:**本节讨论。
*   **周界描述的链码描述符:**本节讨论。

物体形状与形态学领域密切相关，形态学处理的计算机方法在[第二章](02.html)中详细讨论。也参见本章前面关于形态学兴趣点的讨论。

在计算机视觉研究的许多领域，局部特征似乎比基于物体形状的特征更受青睐。形状分析方法缺乏普及可能是对创建过滤、形态学和分割的预处理流水线以准备用于形状分析的图像的努力的反应。如果图像没有被正确地预处理和准备，形状分析是不可能的。(见[第 8 章](08.html)对假想形状分析预处理流水线的讨论。)

多边形形状度量可以用于几乎任何场景分析应用，以找到常见的对象，并对它们的大小和形状进行精确测量；典型的应用包括生物学和制造业。通常，大多数多边形形状度量是旋转和比例不变的。[表 6-7](#Tab7) 提供了可从区域形状(二元形状和灰度形状)得出的一些常用度量的样本。

[表 6-7](#_Tab7) 。各种常见的对象形状和斑点对象度量

<colgroup><col width="35%"> <col width="65%"></colgroup> 
| 

对象二进制形状度量

 | 

描述

 |
| --- | --- |
| 周长 | 物体边缘周围所有点的长度，包括对角线长度~=1.4 和相邻长度之和=1 |
| 面积 | 以像素为单位的对象总面积 |
| 凸包 | 多边形形状或包围所有周界点的一组线段 |
| 图心 | 物体质量的中心、所有像素坐标的平均值或所有周长坐标的平均值 |
| 傅立叶描述符 | 傅立叶频谱来自包含一组径向线段的长度的阵列，该组径向线段以规则的角度从质心到周长，用于模拟 1D 信号函数，1D 信号函数被馈送到 1D FFT，并且该组 FFT 幅度数据被用作所选的一组倍频程频率的度量 |
| 长/短轴 | 穿过包含在周界内并与周界接触的质心的最长和最短线段 |
| 弗雷迪！弗雷迪 | 物体的最大测径 |
| 宽度 | 最短井径 |
| 纵横比 | Feret / Breadth(封檐带/檐带) |
| 圆 | 4 X Pi X 面积/周长 2 |
| 圆 | 4 X 面积/(πX feret 2)(也可以从傅立叶描述符计算) |
| 面积当量直径 | sqrt((4 / Pi) X 面积) |
| 周长等效直径 | 面积/Pi |
| 等效椭圆 | (pi x fere x breadth)/4 |
| 紧凑 | sqrt((4 / Pi) X 面积)/固定 |
| 固态 | 面积/凸面 _ 面积 |
| 凹面 | 凸面 _ 面积-面积 |
| 凸面 | 凸包/周长 |
| 形状 | 视野 2 /面积 |
| 修改率 | (2 个 miner)/feret |
| 形状矩阵 | 多边形形状的 2D 矩阵表示或绘图(可以使用笛卡尔或极坐标；参见[图 6-32](#Fig32) |
| **灰度对象** **形状度量** |  |
| SDM 地块 | <sup>[*](#fn2)</sup> 参见[第三章](03.html)，【纹理度量】一节。 |
| 散点图 | <sup>[*](#fn2)</sup> 参见[第三章](03.html)，【纹理度量】一节。 |
| 灰度像素值的统计矩 | 最小值
最大值
中值
平均值
平均偏差
标准差
方差
偏度
峰度
熵 |

<sup>***[*](#_fn2)***</sup>*注意:一些二进制对象度量也适用于灰度对象。*

![9781430259299_Fig06-32.jpg](images/9781430259299_Fig06-32.jpg)

[图 6-32](#_Fig32) 。用于对象周长的形状矩阵描述符[335]。(左二图)笛卡尔坐标形状矩阵。(右图)极坐标形状矩阵使用三行八个编号的面元区域，灰色框表示要面元的像素。注意，可以一起使用多个形状矩阵。如果像素填充至少一半的二进制区域，则设置矩阵中的值，不使用插值

形状被认为是二进制的；然而，也可以使用灰度形态学在强度通道对象周围计算形状。周界被认为是一组相连的部分。该形状由二进制阈值或强度带内的单个像素宽的周界来定义，并且像素在周界上、周界内或周界外。可以通过逐个像素地扫描图像并检查相邻的接触像素邻居的连通性来计算周界边缘。或者，周长可以根据本章前面讨论的形状矩阵[335]或链码来计算。计算每个线段(像素)的周长，其中线段长度= 1 表示水平和垂直邻居，而![image](images/Eqn6-38.jpg)表示对角邻居。

周界可以用作掩模，并且可以在该区域内计算灰度或颜色通道统计度量。对象区域是周界内所有像素的计数。质心可以从包含在周界区域内的所有点的所有 *(x，y)* 坐标的平均值计算，或者从所有周界 *(x，y)* 坐标的平均值计算。

形状度量是强大的。例如，形状度量可以用于在测量之前从场景中移除或排除对象。例如，当区域小于给定的大小时，或者如果质心坐标在给定的范围之外，可以从场景中移除对象。

如图[图 6-29](#Fig29) 和[图 2-18](02.html#Fig18) 所示，傅立叶描述子提供了一个旋转和比例不变的形状度量，也具有一些遮挡不变性。确定傅立叶描述符的方法是从质心到圆周上的点进行一组等角度间隔的半径测量，例如每 10 度，然后将半径测量组合成 1D 阵列，该阵列通过 1D FFT 运算以产生物体的傅立叶矩。或者径向像素轮辐可以用作描述符。

图 6-29 所示的其他有用的形状度量的例子包括具有长轴和短轴的边界框，其具有通过质心到周长的最长和最短直径段；这可以用来确定物体的旋转方向。

SNAKES 方法 [540]使用样条模型将兴趣点的集合(如选定的周界点)拟合到区域轮廓中。兴趣点是样条点。SNAKE 可用于逐帧跟踪轮廓特征，在兴趣点位置周围变形。

通常，2D 物体形状方法可以扩展到 3D 数据；然而，我们在这里不探索 3D 对象形状度量，参见参考文献[200，201]的 3D 形状描述符的调查。

形状上下文

由 Belongie、Malik 和 puzi cha[239–241]开发的形状上下文方法描述了使用周界上的参考点作为笛卡尔轴原点的局部特征形状，以及相对于参考点原点的宁滨选定周界点坐标。每个点的相对坐标被收集到对数极坐标直方图中。形状上下文与 1985 年开发的早期形状矩阵描述符[335]相关，如图 6-32 所示，该描述符也使用对数极坐标描述物体的周长。形状上下文方法提供了变化，在作者的几篇论文中有描述[239–241]。这里，我们来看几个关键概念。

首先，以均匀的间隔稀疏地采样对象的周界边缘，通常为粗略宁滨保留大约 100 个边缘采样点。稀疏周界边缘点通常不同于兴趣点，并且使用周界追踪来发现。接下来，在对象的周界上选择参考点作为笛卡尔空间的原点，并且计算从原点到每个其他周界点的矢量角度和幅度![image](images/Eqn6-39.jpg)。幅度或距离被归一化以拟合直方图。每个稀疏周界边缘点用于计算与原点的切线。最后，使用![image](images/Eqn6-40.jpg)将每个归一化向量装入对数极坐标直方图，这被称为*形状上下文*。

在匹配期间，在描述符对之间产生对准变换，这产生目标和选择的模式之间的差异，并且可以用于重建。对准变换可以根据需要从仿射、欧几里德、基于样条的和其他方法中选择。对应使用匈牙利方法，该方法包括直方图相似性，并且通过使用正切角相异度的对准变换强度来加权。匹配还可以采用局部外观相似性度量，例如斑块或颜色直方图之间的归一化相关性。

形状上下文方法提供了对缩放、平移、旋转、遮挡和噪声的不变性的测量。参见图 6-33 。

![9781430259299_Fig06-33.jpg](images/9781430259299_Fig06-33.jpg)

[图 6-33](#_Fig33) 。形状上下文方法。(左)周界点被测量为形状向量，包括角度和距离，相对于作为参考笛卡尔原点的所选周界点。(右)形状向量被装入对数极坐标直方图特征描述符中

3D、4D、体积和多模态描述符

随着越来越多的 3D 传感器的出现，例如立体相机和其他深度感测方法，以及无处不在的加速度计和内置于廉价移动设备中的其他传感器，3D 特征描述和多模态特征描述的领域开始蓬勃发展。

许多 3D 描述符与机器人研究和 3D 定位相关联。由于 3D 特征描述领域处于开发周期的早期，尚不清楚哪些方法将被广泛采用，因此我们在此仅介绍 3D 描述符方法的一小部分示例。其中包括 3D HOG [196]，3D SIFT [195]和 HON 4D [198]，这些都是基于熟悉的 2D 方法。我们建议感兴趣的读者参考参考文献[200，201，216]中的 3D 形状描述符。几个有趣的 3D 描述符度量在点云库中作为开源可用，[<sup>【2】</sup>](#Fn2)，包括基于半径的表面描述符(RSD)【539】、主曲率描述符(PCD)、直方图方向签名(SHOT)【541】、视点特征直方图(VFH)【398】和旋转图像【538】。

推动 3D 描述符研究的关键应用包括机器人和活动识别，在这些应用中，随着特征的变形和变形，会对其进行逐帧跟踪。目标是定位位置和识别人类动作，如行走、挥手、转身或跳跃。另请参见 3D 的 LBP 变体:V-LBP 和 LBP-TOP，本章前面已经介绍过，如图 6-12 所示，也用于活动识别。因为 2D 特征在活动识别期间是移动的，所以时间是结合到描述符中的第三维。我们在这里调查一些著名的 3D 活动识别研究。

动作识别工作中的一个关键概念是将熟悉的 2D 特征扩展到时空的 3D 空间中，其中 3D 空间由随时间推移的 2D *x，y* 视频图像序列 *t* 组成具有形式 *v(x，y，t)的体积表示。*此外，在许多动作识别描述符方法中使用 3D 表面法线、3D 梯度幅度和 3D 梯度方向。

3D 猪

3D HOG [196]部分基于体积特征[199]中的一些早期工作。总的想法是在 3D HOG 描述符公式中使用熟悉的 HOG 描述符[106],使用一堆连续的 2D 视频帧或切片作为 3D 体积，并计算体积内相邻帧的时空梯度方向。为了提高效率，基于与 Viola Jones 方法中使用的积分图像方法相同的思路，开发了一种新颖的积分视频方法作为图像金字塔的替代方法。

[199]中还开发了一种使用积分视频概念的类似方法，在体积中的 4 到 40 个视频帧上使用 64x64 的子采样空间，使用像素强度而不是梯度方向。积分视频方法，也可以被认为是*积分体积*方法，允许将来自堆叠的连续视频帧的任意立方体区域整合在一起，以计算任意尺度上的局部梯度方向。与使用预先计算的图像金字塔相比，这是空间高效和时间高效的。事实上，这种完整的视频集成方法是这项工作的一个新贡献，可以应用于 2D 或 3D 中的强度、颜色和梯度幅度等其他光谱，以消除对图像金字塔的需要，从而在图像比例方面提供更多选择，而不仅仅是八度音阶。

在[图 6-34](#Fig34) 中说明了 3D HOG 描述符的计算。为了找到特征关键点来锚定描述符，使用 Harris 算子的时空扩展[197]，然后从关键点处的立方区域中的定向梯度的平均值计算直方图描述符。由于梯度幅度对照明变化敏感，因此使用梯度方向来提供照明不变性，并且使用简单的 x、y、z 导数在 3D 立方体区域上计算梯度方向。使用积分视频方法可以快速计算任意三维长方体的平均梯度方向。通过将每个矢量投影到一个正二十面体的 20 面形的面上来合并所有矢量，梯度方向被量化为直方图面元，如图[图 6-34](#Fig34) 所示。20 个二十面体面充当直方图仓。时空特征的稀疏集合被组合成视觉词汇表中的特征包或单词包。

![9781430259299_Fig06-34.jpg](images/9781430259299_Fig06-34.jpg)

[图 6-34](#_Fig34) 。HOG 3D 描述符计算。(左)2x2x2 描述符单元块。(左中)在 2x2x2 单元子块上计算的梯度方向直方图。(右中)通过将向量交集投影到 20 面二十面体的面来量化的渐变方向。(右)在积分视频块上计算的平均梯度方向(体积矢量积分)

她是 4dt1

与 3D HOG 类似的方法称为 HON 4D [198]，它将描述符计算为定向 4D 法线的直方图，其中 3D 表面法线+时间总计为四维(4D)。HON 4D 使用深度图像序列或 3D 深度图作为计算描述符的基础，而不是像 3D HOG 方法中那样使用 2D 图像帧。所以需要深度相机。在这方面，HON 4D 类似于计算 3D 表面法线的一些体绘制方法，并且可以使用类似的方法加速[452，453，454]。

在 HON 4D 方法中，表面法线捕捉每个物体的表面形状线索，法线方向随时间的变化可用于确定运动和姿态。在这种方法中，只有曲面法线的方向是重要的，因此法线长度都被归一化为单位长度。结果，宁滨到直方图的作用不同于 HOG 风格的宁滨，因此时间的第四维对帧与帧之间的梯度差异进行编码。使用 4D 投影函数对 HON 4D 描述符进行分箱和量化，该投影函数将局部表面法线方向量化到 600 单元的多边形中，该多边形是 2D 多边形到 4 空间的几何扩展。

考虑使用梯度方向的洪 4D 方法与使用梯度幅度的霍格方法的区别。如果两个表面在梯度幅度方面相同或相似，则 HOG 样式描述符不能区分；然而，由于描述符中使用的曲面法线的方向，HON 4D 风格描述符可以区分。当然，计算 3D 法线是计算密集型的，没有考虑访问体积的每个组件所需的非连续内存访问模式的特殊优化。

3D SIFT

3D SIFT 方法[195]从 2D SIFT 特征方法开始，并将特征宁滨重构为使用体积时空区域*v(x，y，t)，*，如图 6-35 中的[所示。](#Fig35)

![9781430259299_Fig06-35.jpg](images/9781430259299_Fig06-35.jpg)

[图 6-35](#_Fig35) 。将 3D SIFT [195]矢量直方图仓计算为三个连续 2D 图像帧的体积空间或 3D 时空区域中子体积的组合梯度方向的组合

梯度对方向的 3D 方向计算如下:

![image](images/Eqn6-41.jpg)

![image](images/Eqn6-42.jpg)

![image](images/Eqn6-43.jpg)

该方法为每个关键点处的三维空间中的梯度方向的每个角度提供了唯一的二值( *φ，θ* )表示。宁滨阶段的处理方式不同于 SIFT，而是使用由球面坐标空间中的经线和纬线定义的正交面元。计算起来更简单，但需要对每个值进行归一化，以考虑从两极到赤道的表观尺寸的球面差异。

为了计算 SIFT 描述符，每个子直方图的 3D 梯度方向用于引导描述符关键点处的 3D 区域的旋转指向 0，这提供了对描述符的旋转不变性的测量。每个点将被表示为一个单一的梯度幅度和两个方向向量( *φ，θ* )，而不是一个，如 2D SIFT *。*描述符宁滨是在相邻立方体的三维上计算的，而不是在 2D SIFT 描述符的二维上。

一旦特征向量被分箱，使用分层 K-means 聚类将特征向量集聚类成相似特征的组，或者聚类成时空单词词汇表中的单词*、*。聚类之外的另一个步骤可以是使用稀疏编码方法[115–117]减少特征集，但是没有尝试稀疏编码步骤。

据报道，使用 3D SIFT 进行动作识别的结果与其他类似方法相比相当好；参见参考文献[195]。

摘要

在这一章中，我们调查了各种各样的局部兴趣点检测器和特征描述符方法，以了解从业者在做什么，包括 2D 和 3D 方法。第 5 章中的视觉分类法用于根据描述符族划分特征描述符调查，如局部二进制方法、光谱方法和多边形形状方法。局部描述符和区域描述符之间有一些重叠，然而这一章试图把重点放在局部描述符方法上，把区域方法留给第 3 章[。局部兴趣点检测器在简单的分类法中讨论，包括基于强度的区域方法、基于边缘的区域方法和基于形状的区域方法，包括许多兴趣点检测器方法使用的关键概念和数学的背景。讨论了选择合适的兴趣点检测器的一些困难，并对几种检测器方法进行了综述。](03.html)

本章还强调了对通用描述符方法的改进。例如，通过改变所使用的描述符光谱，例如 LBP 与梯度方法，或者通过用不同的方法替换兴趣点检测器，来改进许多描述符。根据在第 5 章中开发的分类属性，为特征描述符提供了摘要信息，以便能够进行有限的比较，使用的概念来自对第 4 章中[提出的局部特征描述设计概念的分析。](04.html)

__________________

[<sup>1</sup>](#_Fn1)T0】

[<sup>2</sup>](#_Fn2)T0】*